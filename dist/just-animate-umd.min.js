!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t=t||self).just={})}(this,function(t){"use strict"
function a(n,t){return"out"===t?function(t){return 1-n(1-t)}:"in-out"===t?function(t){return t<.5?n(2*t)/2:1-n(2*(1-t))/2}:n}var n=1.70158
function c(t){return t}var h=19,p=function(t,n,e){var r=1-e
return(3*(r*t+e*n)*r+e*e)*e}
var u=/^\s*[\(\),\/\s]\s*/,o=/^\(/,s=/^\)/,f=/^#[a-f\d]{3,6}/i,l=/^[a-z][a-z\d\-]*/i,v=/^\-?\d*\.?\d+/,g=/^\-?\d*\.?\d+[a-z%]+/i,y=/^[mhvlcsqt]/i,x=1,d=2,m=4,S=x|m,b=8|d,M=16|d,_=32
function k(t,n){t.match="",t.pos=t.last=t.state=0,t.pattern=n}function P(t,n){var e=n.exec(t.pattern.substring(t.pos))
return e&&(t.match=e[0],t.last=t.pos,t.pos+=t.match.length),null!=e}function e(r){var i={},a=[],u=1e3
return function(t){var n=i[t]
if(null==n)n=r(t),a.length<u||(delete i[a[0]],a.unshift()),i[t]=n,a.push(t)
else{var e=a.indexOf(t)
0===e&&(a.splice(e,1),a.push(t))}return n}}var $=e(function(t){var n=parseInt(3===t.length?t[0]+t[0]+t[1]+t[1]+t[2]+t[2]:t,16)
return"rgba("+(n>>16&255)+","+(n>>8&255)+","+(255&n)+",1)"})
function w(t){if(P(t,s))return M
if(P(t,o))return b
if(P(t,u))return d
if(t.isPath&&P(t,y)||P(t,l)){if(!(!t.isPath&&t.pos<t.pattern.length-1&&"("===t.pattern[t.pos]))return m
if("rgb"===t.match.toLowerCase()){var n=t.pattern.substring(t.pos),e=n.indexOf(")"),r=n.substring(1,e)
t.pattern=t.pattern.substring(0,t.pos+1+r.length)+",1"+t.pattern.substring(t.pos+1+r.length),t.match="rgba"}return _}if(!t.isPath&&P(t,g))return S
if(P(t,v))return x
if(P(t,f)){var i=t.pattern.substring(t.last+1,t.pos)
return t.pattern=t.pattern.substring(0,t.last)+$(i)+t.pattern.substring(t.pos),t.pos=t.last,w(t)}}var O={},T={}
function A(n,t,e){if(!t)return n
var r=O[t]
if(!r)return n
var i=r.apply(0,e)
return function(t){return i(n(t))}}var r,i,j,C=e(function(t){var n
k(T,t)
for(var e,r=c,i=!1,a=[];1;){if(!(n=w(T))){r=A(r,e,a)
break}n===M?(r=A(r,e,a),i=!(e=void 0),a.length=0):!i||0==(n&x)&&0==(n&m)?n===m?r=A(r,T.match):n===_&&(e=T.match,i=!0):a.push(T.match)}return r}),z=[]
function F(t){-1===z.indexOf(t)&&z.push(t),j||(j=requestAnimationFrame(q))}function q(){for(var t=performance.now(),n=0;n<z.length;n++){z[n](t)||(z.splice(n,1),n--)}if(j=z.length?requestAnimationFrame(q):0,i){var e=i
r=i=0,e()}}function E(t,n){return t-n}function R(t,n,e){return Math.min(Math.max(t,n),e)}function D(t,n){for(var e=0;e<t.length&&t[e]<n;)e++
return e}function I(t){return"number"==typeof t||isFinite(+t)}function G(t){return+t}var L,B=1e3/60,H=[],N=[]
function V(t){var n=R(t-L,0,2*B)
L=t
for(var e=H.slice(),r=0,i=e;r<i.length;r++){J(b=i[r])}for(var a=0,u=e;a<u.length;a++){K(n,b=u[a])}for(var o=0,s=e;o<s.length;o++){"cancel"===(b=s[o]).playState?b.playState="idle":"finish"===b.playState&&(b.playState="paused")}for(var f=[],c=0,h=e;c<h.length;c++){for(var p=0,l=(b=h[c]).events;p<l.length;p++){var v=l[p]
if(b.listeners){var g=b.listeners[v]
g&&g.length&&Array.prototype.push.apply(f,g)}}b.events.length=0}for(var y=[],d=0,m=e;d<m.length;d++)for(var b=m[d],x=0,S=N;x<S.length;x++){(0,S[x])(b,y)}for(var M=H.length-1;-1<M;M--)"running"!==e[M].playState&&H.splice(M,1)
for(var _=0,k=y;_<k.length;_++){(0,k[_])()}for(var P=0,$=f;P<$.length;P++){(0,$[P])(t)}return!!H.length}function J(t){if("running"===t.playState){var n=t.playbackRate<0,e=t.duration*t.iterations;(n&&t.currentTime<=1||!n&&t.currentTime>=e-1)&&(t.playState="finish",t.events.push("finish"))}}function K(t,n){n.iterations=R(n.iterations,1,86400*7)
var e=n.duration*n.iterations
"cancel"===n.playState?(n.currentTime=0,n.playbackRate=1):"finish"===n.playState?n.currentTime=n.playbackRate<0?0:e:"running"===n.playState&&(n.currentTime+=t*n.playbackRate),n.currentTime=R(n.currentTime,0,e)}var Q=0,U=function(){function n(t){if(!(this instanceof n))return new n(t)
this.id="_"+ ++Q,this.alternate=!1,this.currentTime=0,this.events=[],this.iterations=1,this.keyframes={},this.labels={},this.listeners={},this.playState="running",this.playbackRate=1,this.timelines_=[],t&&this.configure(t),this.id.indexOf("_")}return Object.defineProperty(n.prototype,"duration",{get:function(){for(var t=0,n=0,e=this.timelines_;n<e.length;n++){var r=e[n],i=r.animation.duration+r.pos
t<i&&(t=i)}for(var a in this.keyframes){var u=this.keyframes[a]
for(var o in u)for(var s in u[o])t<+s&&(t=+s)}return t},enumerable:!0,configurable:!0}),n.prototype.add=function(t,n){n=n||{}
var e=this.getPosition_(n.$from)
return null==e&&(e=this.duration),this.timelines_.push({animation:t,pos:e}),this.update()},n.prototype.cancel=function(){return this.playState="cancel",this.events.push("cancel"),this.update()},n.prototype.configure=function(t){for(var n in t)"function"!=typeof this[n]&&"duration"!==n&&(this[n]=t[n])
return this.update(),this},n.prototype.finish=function(){return this.playState="finish",this.events.push("finish"),this.update()},n.prototype.getConfig=function(){var t={}
for(var n in this)if("_"!==n[n.length-1]){var e=this[n]
"function"!=typeof e&&(t[n]=e)}return t},n.prototype.getEventGroup_=function(t){var n=this.listeners[t]
return n||(n=this.listeners[t]=[]),n},n.prototype.getPosition_=function(t){return t&&"number"!=typeof t&&(t=this.labels[t]),t},n.prototype.label=function(t,n){return this.labels[t]=void 0===n?this.duration:n,this},n.prototype.off=function(t,n){var e=this.getEventGroup_(t),r=e.indexOf(n)
return-1!==r&&e.splice(r,1),this},n.prototype.on=function(t,n){var e=this.getEventGroup_(t)
return-1===e.indexOf(n)&&e.push(n),this},n.prototype.pause=function(){return this.playState="paused",this.events.push("pause"),this.update()},n.prototype.play=function(){return this.playState="running",this.events.push("play"),this.update()},n.prototype.seek=function(t){return((t=this.getPosition_(t))||0===t)&&(this.currentTime=t),"running"!==this.playState?this.pause():this.update()},n.prototype.update=function(){var t
return t=this,H.length||(L=performance.now(),F(V)),-1===H.indexOf(t)&&H.push(t),this},n}(),W=2*Math.PI
function X(t,n){return t.getAttribute(n)||""}function Y(t,n,e){t.setAttribute(n,e.toString())}function Z(t,n){return t.style.getPropertyValue(n)}function tt(t,n,e){t.style.setProperty(n,e.toString())}function nt(t,n){return t.style[n]||getComputedStyle(t)[n]}function et(t,n,e){t.style[n]=e}function rt(t,n){return t[n]}function it(t,n,e){t[n]=e}var at={}
var ut=e(function(t){var n,e
k(at,t)
for(var r,i=0,a="";1&&(n=P(r=at,u)?d:P(r,v)?x:P(r,g)?S:P(r,l)?_:void 0);)n===_&&(e=at.match.toLowerCase(),i=0),n===S||n===x?("matrix"===e?a+=i%3?"0":"1":"matrix3d"===e?a+=i%5?"0":"1":/scale([xyz]|3d)?/i.test(e)?a+="1":a+="0",i++):a+=at.match
return a}),ot=/([a-z%]+)/i,st=/^m[\s,]*-?\d*\.?\d+/i,ft=/(perspective|matrix(3d)?|skew[xy]?|(translate|scale|rotate)([xyz]|3d)?)\(/i
function ct(t,n,e){return I(t)&&I(n)?lt(+t,+n,e):(ft.test(n.toString())&&!ft.test(t.toString())&&(t=ut(n.toString())),null==t&&(t=""),null==n&&(n=""),function(t,n,e){k(ht,t),k(pt,n),ht.isPath=st.test(t),pt.isPath=st.test(n)
var r,i,a="",u=0
for(;1&&(r=w(ht),i=w(pt),r&&i);){var o=ht.match,s=pt.match
if(r===x&&i===x){var f=void 0
u?(d=+o,m=+s,b=e,f=Math.round(Math.sqrt(Math.min(Math.max(0,(d*d+m*m)*b),255*255))),u--):f=lt(+o,+s,e),a+=f}else if(r===S||i===S){var c=ot.exec(r===S?o:s),h=c[1],p="px"===h,l=parseFloat(o),v=parseFloat(s),f=lt(l,v,e,p)
a+=f+h}else{var g=e<.5?o:s,y=r===_&&i===_&&("rgb"===g||"rgba"===g)
y&&(u=3),a+=g}}var d,m,b
return a}(t.toString(),n.toString(),e))}var ht={},pt={}
function lt(t,n,e,r){var i=t+(n-t)*e
return r?Math.round(i):i}var vt=0,gt=1,yt=2,dt=3,mt=["viewBox"],bt=["innerHTML","textContent"]
var xt="__just_cache"
function St(t,n,e){if(n[xt]&&n[xt][t])return n[xt][t][e]}function Mt(t,n){if(!n)return[]
if(0!==n.indexOf("@"))return Array.prototype.slice.call(document.querySelectorAll(n))
var e=t.targets[n]
if(!e)throw Error("Target "+n+" not configured.")
return"number"==typeof e.length?e:[e]}function _t(t,n,e,r,i,a,u,o){var s=t,f=n
if(u&&(s+=u),o&&(f-=o),a){var c=Math.abs((r+1)*a)
s+=c,f-=Math.abs(i*a)-c}return s<e?e<f?(e-s)/(f-s):1:0}U.prototype.animate=function(t,n,e){var r=this.getPosition_(e.$from)
if(null==r&&(r=this.duration),"string"!=typeof t){var i=function(t,n){if(t)for(var e in t)if(n===t[e])return e}(this.targets,t)
i||(this.targetIds||(this.targetIds=0),i="@_object_"+ ++this.targetIds,this.target(i,t)),t=i}e.$delay&&(n+=e.$delay),e.$endDelay&&(n+=e.$endDelay),e.$stagger&&(n+=Mt(this,t).length*e.$stagger)
var a=this.keyframes[t]
for(var u in a||(a=this.keyframes[t]={}),e){var o=e[u]
if("$"!==u[0]&&(o||0===o)){var s=a[u]
s||(s=a[u]={})
var f={value:o}
for(var c in e)"$"===c[0]&&e[c]&&(f[c]=e[c])
s[r+n]=f}}return this.update()},U.prototype.delay=function(t){return this.animate("",t,{"":0})},U.prototype.set=function(t,n){return n.$ease="steps(1,end)",this.animate(t,0,n)},U.prototype.target=function(t,n){return this.targets||(this.targets={}),this.targets[t]=n,this.update()},O.back=function(t){return a(function(t){return t*t*((n+1)*t-n)},t)},O.bounce=function(t,n){return n=+(n||0===n?n:7.5625),a((e=function(t){return t<.36363636?n*t*t:t<.72727273?n*(t-=.545455)*t+.75:t<.90909091?n*(t-=.818182)*t+.9375:n*(t-=.954545)*t+.984375},function(t){return 1-e(1-t)}),t)
var e},O["cubic-bezier"]=function(u,o,s,f){return o=+o,s=+s,f=+f,(u=+u)<0||1<u||s<0||1<s?c:function(t){if(t<=0||1<=t)return t
var n,e,r=0,i=1,a=h
do{if(e=p(u,s,n=.5*(r+i)),Math.abs(t-e)<1e-4)return p(o,f,n)
e<t?r=n:i=n}while(--a)
return p(o,f,n=.5*(r+i))}},O.elastic=function(t,n,e,r){n=+(n||0===n?n:1)
var i=(e=+(e||0===e?e:.4))/(r=+(r||0===r?r:4))
return a(function(t){return 0===t||1===t?t:-n*Math.pow(2,10*(t-1))*Math.sin((t-1-i)*W/e)},t)},O.power=function(t,n){return n=+(n||0===n?n:2),a(function(t){return Math.pow(t,n)},t)},O.repeat=function(n){return n=+(n||0===n?n:2),function(t){return(t*=n)===n?1:t-~~t}},O.sine=function(t){return a(function(t){return-Math.cos(t*Math.PI/2)+1},t)},O.steps=function(e,t){var r="end"===t?Math.floor:Math.ceil
return function(t){var n=r(t*+e)/+e
return n<0?0:1<n?1:n}},O.yoyo=function(e){return e=+(e||0===e?e:2),function(t){var n=~~(t*=e)
return n%2?1-t+n:t-n}},N.push(function(t,n){}),N.push(function(t,j){var n,e,r=t.currentTime,z=t.playState,F=t.id,q=r%t.duration
for(var i in t.keyframes){var a=t.keyframes[i],I=Mt(t,i),u=function(w){for(var t,O=a[w],T=(t=O,Object.keys(t).map(G).sort(E)),A=I.length,n=function(t){var n,e,r,i,a,u,o,s,f=I[t],c=(e=w,"string"==typeof(n=f).tagName&&n.style?0===e.indexOf("--")?gt:-1!==mt.indexOf(e)?yt:-1!==bt.indexOf(e)?vt:dt:vt),h=(r=c)===yt?Y:r===gt?tt:r===dt?et:it
if("idle"!==z){var p=ct,l=((s=c)===yt?X:s===gt?Z:s===dt?nt:rt)(f,w),v=D(T,q),g=R(v,0,T.length-1),y=g!==v?g:g-1,d=y<0?0:T[y],m=T[g],b=O[m],x=b.value,S=C(b.$ease||""),M=O[T[y]],_=void 0
_=y<0||!M?(null==($=St(F,f,w))&&(i=F,u=w,o=$=l,(a=f)[xt]||(a[xt]={}),a[xt][i]||(a[xt][i]={}),a[xt][i][u]=o),$):M.value
var k=_t(d,m,q,t,A,b.$stagger||0,b.$delay||0,b.$endDelay||0),P=p(_,x,k=S(k))
l!==P&&j.push(function(){return h(f,w,P)})}else{var $
null!=($=St(F,f,w))&&h(f,w,$)}},e=0;e<A;e++)n(e)}
for(var o in a)u(o)
for(var s=0,f=I;s<f.length;s++){var c=f[s]
"idle"===z&&(n=F,(e=c)[xt]&&e[xt][n]&&delete e[xt][n])}}}),t.animate=function(t,n,e){return(new U).animate(t,n,e)},t.eases=O,t.getEase=C,t.nextAnimationFrame=function(){return r||(r=new Promise(function(t){i=t})),j||(j=requestAnimationFrame(q)),r},t.Timeline=U,t.tick=F,Object.defineProperty(t,"__esModule",{value:!0})})
