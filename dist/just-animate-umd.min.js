!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t=t||self).just={})}(this,function(t){"use strict"
function a(n,t){return"out"===t?function(t){return 1-n(1-t)}:"in-out"===t?function(t){return t<.5?n(2*t)/2:1-n(2*(1-t))/2}:n}var n=1.70158
function p(t){return t}var c=19,h=function(t,n,r){var e=1-r
return(3*(e*t+r*n)*e+r*r)*r}
var u=/^\s*[\(\),\/\s]\s*/,s=/^\(/,f=/^\)/,l=/^#[a-f\d]{3,6}/i,v=/^[a-z][a-z\d\-]*/i,g=/^\-?\d*\.?\d+/,y=/^\-?\d*\.?\d+[a-z%]+/i,d=/^[mhvlcsqt]/i,x=1,m=2,b=4,S=x|b,_=8|m,k=16|m,M=32
function P(t,n){t.match="",t.pos=t.last=t.state=0,t.pattern=n}function w(t,n){var r=n.exec(t.pattern.substring(t.pos))
return r&&(t.match=r[0],t.last=t.pos,t.pos+=t.match.length),null!=r}function O(t){if(w(t,f))return k
if(w(t,s))return _
if(w(t,u))return m
if(t.isPath&&w(t,d)||w(t,v)){if(!(!t.isPath&&t.pos<t.pattern.length-1&&"("===t.pattern[t.pos]))return b
if("rgb"===t.match.toLowerCase()){var n=t.pattern.substring(t.pos),r=n.indexOf(")"),e=n.substring(1,r)
t.pattern=t.pattern.substring(0,t.pos+1+e.length)+",1"+t.pattern.substring(t.pos+1+e.length),t.match="rgba"}return M}if(!t.isPath&&w(t,y))return S
if(w(t,g))return x
if(w(t,l)){var i=t.pattern.substring(t.last+1,t.pos)
return t.pattern=t.pattern.substring(0,t.last)+(a=i,"rgba("+((o=parseInt(3===a.length?a[0]+a[0]+a[1]+a[1]+a[2]+a[2]:a,16))>>16&255)+","+(o>>8&255)+","+(255&o)+",1)")+t.pattern.substring(t.pos),t.pos=t.last,O(t)}var a,o}var o={},T={}
function D(t){var n
P(T,t)
for(var r,e=p,i=!1,a=[];1;){if(!(n=O(T))){e=A(e,r,a)
break}n===k?(e=A(e,r,a),i=!(r=void 0),a.length=0):!i||0==(n&x)&&0==(n&b)?n===b?e=A(e,T.match):n===M&&(r=T.match,i=!0):a.push(T.match)}return e}function A(n,t,r){if(!t)return n
var e=o[t]
if(!e)return n
var i=e.apply(0,r)
return function(t){return i(n(t))}}var e,i,z,F=[]
function r(t){-1===F.indexOf(t)&&F.push(t),z||(z=requestAnimationFrame(j))}function j(){for(var t=performance.now(),n=0;n<F.length;n++){F[n](t)||(F.splice(n,1),n--)}if(z=F.length?requestAnimationFrame(j):0,i){var r=i
e=i=0,r()}}function q(t,n){return t-n}function J(t,n,r){return Math.min(Math.max(t,n),r)}function K(t,n){for(var r=0;r<t.length&&t[r]<n;)r++
return r}function E(t){return"number"==typeof t||isFinite(+t)}function $(t){return+t}function Q(t,n){return t.getAttribute(n)||""}function U(t,n,r){t.setAttribute(n,r.toString())}function W(t,n){return t.style.getPropertyValue(n)}function X(t,n,r){t.style.setProperty(n,r.toString())}function Y(t,n){return t.style[n]||getComputedStyle(t)[n]}function Z(t,n,r){t.style[n]=r}function tt(t,n){return t[n]}function nt(t,n,r){t[n]=r}var C=/([a-z%]+)/i,I=/^m[\s,]*-?\d*\.?\d+/i,R=/(perspective|matrix(3d)?|skew[xy]?|(translate|scale|rotate)([xyz]|3d)?)\(/i
function rt(t,n,r){return E(t)&&E(n)?H(+t,+n,r):(R.test(n.toString())&&!R.test(t.toString())&&(t=function(t){var n,r
P(G,t)
var e=0,i=""
for(;1&&(n=w(a=G,u)?m:w(a,g)?x:w(a,y)?S:w(a,v)?M:void 0);)n===M&&(r=G.match.toLowerCase(),e=0),n===S||n===x?("matrix"===r?i+=e%3?"0":"1":"matrix3d"===r?i+=e%5?"0":"1":/scale([xyz]|3d)?/i.test(r)?i+="1":i+="0",e++):i+=G.match
var a
return i}(n.toString())),null==t&&(t=""),null==n&&(n=""),function(t,n,r){P(L,t),P(B,n),L.isPath=I.test(t),B.isPath=I.test(n)
var e,i,a="",o=0
for(;1&&(e=O(L),i=O(B),e&&i);){var u=L.match,s=B.match
if(e===x&&i===x){var f=void 0
o?(d=+u,m=+s,b=r,f=Math.round(Math.sqrt(Math.min(Math.max(0,(d*d+m*m)*b),255*255))),o--):f=H(+u,+s,r),a+=f}else if(e===S||i===S){var p=C.exec(e===S?u:s),c=p[1],h="px"===c,l=parseFloat(u),v=parseFloat(s),f=H(l,v,r,h)
a+=f+c}else{var g=r<.5?u:s,y=e===M&&i===M&&("rgb"===g||"rgba"===g)
y&&(o=3),a+=g}}var d,m,b
return a}(t.toString(),n.toString(),r))}var G={}
var L={},B={}
function H(t,n,r,e){var i=t+(n-t)*r
return e?Math.round(i):i}var et=0,it=1,at=2,ot=3,ut=["viewBox"],st=["innerHTML","textContent"]
var ft="__just_cache"
function pt(t,n,r){if(n[ft]&&n[ft][t])return n[ft][t][r]}var N,V=1e3/60,ct=[]
function ht(t){var n=J(t-N,0,2*V)
N=t
for(var r=ct.slice(),e=0,i=r;e<i.length;e++){gt(b=i[e])}for(var a=0,o=r;a<o.length;a++){yt(n,b=o[a])}for(var u=0,s=r;u<s.length;u++){"cancel"===(b=s[u]).playState?b.playState="idle":"finish"===b.playState&&(b.playState="paused")}for(var f=[],p=0,c=r;p<c.length;p++){for(var h=0,l=(b=c[p]).events;h<l.length;h++){var v=l[h]
if(b.listeners){var g=b.listeners[v]
g&&g.length&&Array.prototype.push.apply(f,g)}}b.events.length=0}for(var y=[],d=0,m=r;d<m.length;d++){var b
lt(b=m[d],y)}for(var x=ct.length-1;-1<x;x--)"running"!==r[x].playState&&ct.splice(x,1)
for(var S=0,_=y;S<_.length;S++){(0,_[S])()}for(var k=0,M=f;k<M.length;k++){(0,M[k])(t)}return!!ct.length}function lt(t,L){var n,r,B=t.currentTime,H=t.playState,N=t.id
for(var e in t.keyframes){var i=t.keyframes[e],V=vt(t,e),a=function(C){for(var t,I=i[C],R=(t=I,Object.keys(t).map($).sort(q)),G=V.length,n=function(t){var n,r,e,i,a,o,u,s,f,p,c,h,l,v,g,y,d,m,b=V[t],x=(r=C,"string"==typeof(n=b).tagName&&n.style?0===r.indexOf("--")?it:-1!==ut.indexOf(r)?at:-1!==st.indexOf(r)?et:ot:et),S=(e=x)===at?U:e===it?X:e===ot?Z:nt
if("idle"!==H){var _=rt,k=((m=x)===at?Q:m===it?W:m===ot?Y:tt)(b,C),M=K(R,B),P=M-1,w=P<0?0:R[P],O=R[M],T=I[O],A=T.value,z=D(T.$ease||""),F=I[R[P]],j=void 0
if(P<0||!F)null==($=pt(N,b,C))&&(v=N,y=C,d=$=k,(g=b)[ft]||(g[ft]={}),g[ft][v]||(g[ft][v]={}),g[ft][v][y]=d),j=$
else j=F.value
var q=(i=w,a=O,o=B,u=t,s=G,f=T.$padStart||0,p=T.$padEnd||0,c=i+dt(u,s,f),h=a+-1*dt(u,s,p),l=J(o,c,h),h===c?1:(l-c)/(h-c)),E=_(j,A,q=z(q))
k!==E&&L.push(function(){return S(b,C,E)})}else{var $
null!=($=pt(N,b,C))&&S(b,C,$)}},r=0;r<G;r++)n(r)}
for(var o in i)a(o)
for(var u=0,s=V;u<s.length;u++){var f=s[u]
"idle"===H&&(n=N,(r=f)[ft]&&r[ft][n]&&delete r[ft][n])}}}function vt(t,n){if(!n)return[]
if(0!==n.indexOf("@"))return Array.prototype.slice.call(document.querySelectorAll(n))
var r=t.targets[n]
if(!r)throw Error("Target "+n+" not configured.")
return"number"==typeof r.length?r:[r]}function gt(t){if("running"===t.playState){var n=t.playbackRate<0,r=t.duration*t.iterations;(n&&t.currentTime<=1||!n&&t.currentTime>=r-1)&&(t.playState="finish",t.events.push("finish"))}}function yt(t,n){n.iterations=J(n.iterations,1,86400*7)
var r=n.duration*n.iterations
"cancel"===n.playState?(n.currentTime=0,n.playbackRate=1):"finish"===n.playState?n.currentTime=n.playbackRate<0?0:r:"running"===n.playState&&(n.currentTime+=t*n.playbackRate),n.currentTime=J(n.currentTime,0,r)}function dt(t,n,r){if("number"==typeof r)return r
if(!r.stagger)return r.duration||0
if("number"==typeof r.stagger)return r.stagger*(t+1)
var e=t/n-1
return"string"==typeof r.stagger&&(e=D(r.stagger)(e)),(r.duration||0)*e}var mt=0,bt=function(){function n(t){if(!(this instanceof n))return new n(t)
this.id="_"+ ++mt,this.alternate=!1,this.currentTime=0,this.events=[],this.iterations=1,this.keyframes={},this.labels={},this.listeners={},this.playState="running",this.playbackRate=1,this.targetIds_=0,this.targets={},this.timelines_=[],t&&this.configure(t),this.id.indexOf("_")}return Object.defineProperty(n.prototype,"duration",{get:function(){for(var t=0,n=0,r=this.timelines_;n<r.length;n++){var e=r[n],i=e.animation.duration+e.pos
t<i&&(t=i)}for(var a in this.keyframes){var o=this.keyframes[a]
for(var u in o)for(var s in o[u])t<+s&&(t=+s)}return t},enumerable:!0,configurable:!0}),n.prototype.add=function(t,n){return void 0===(n=this.getPosition_(n))&&(n=this.duration),this.timelines_.push({animation:t,pos:n}),this.update()},n.prototype.cancel=function(){return this.playState="cancel",this.events.push("cancel"),this.update()},n.prototype.configure=function(t){for(var n in t)"function"!=typeof this[n]&&"duration"!==n&&(this[n]=t[n])
return this.update(),this},n.prototype.delay=function(t,n){return this.animate("",t,{"":0},n)},n.prototype.finish=function(){return this.playState="finish",this.events.push("finish"),this.update()},n.prototype.getConfig=function(){var t={}
for(var n in this)if("_"!==n[n.length-1]){var r=this[n]
"function"!=typeof r&&(t[n]=r)}return t},n.prototype.getEventGroup_=function(t){var n=this.listeners[t]
return n||(n=this.listeners[t]=[]),n},n.prototype.getPosition_=function(t){return t&&"number"!=typeof t&&(t=this.labels[t]),t},n.prototype.label=function(t,n){return this.labels[t]=void 0===n?this.duration:n,this},n.prototype.off=function(t,n){var r=this.getEventGroup_(t),e=r.indexOf(n)
return-1!==e&&r.splice(e,1),this},n.prototype.on=function(t,n){var r=this.getEventGroup_(t)
return-1===r.indexOf(n)&&r.push(n),this},n.prototype.pause=function(){return this.playState="paused",this.events.push("pause"),this.update()},n.prototype.play=function(){return this.playState="running",this.events.push("play"),this.update()},n.prototype.seek=function(t){return((t=this.getPosition_(t))||0===t)&&(this.currentTime=t),"running"!==this.playState?this.pause():this.update()},n.prototype.set=function(t,n,r){return n.$ease="steps(1,end)",this.animate(t,0,n,r)},n.prototype.target=function(t,n){return this.targets[t]=n,this.update()},n.prototype.animate=function(t,n,r,e){if(void 0===(e=this.getPosition_(e))&&(e=this.duration),"string"!=typeof t){var i=function(t,n){for(var r in t)if(n===t[r])return r}(this.targets,t)
i||(i="@_"+ ++this.targetIds_,this.target(i,t)),t=i}var a=this.keyframes[t]
for(var o in a||(a=this.keyframes[t]={}),r){var u=r[o]
if("$"!==o[0]&&(u||0===u)){var s=a[o]
s||(s=a[o]={})
var f={value:u}
for(var p in r)"$"===p[0]&&r[p]&&(f[p]=r[p])
s[e+n]=f}}return this.update()},n.prototype.update=function(){var t
return t=this,ct.length||(N=performance.now(),r(ht)),-1===ct.indexOf(t)&&ct.push(t),this},n}()
var xt=2*Math.PI
o.back=function(t){return a(function(t){return t*t*((n+1)*t-n)},t)},o.bounce=function(t,n){return n=+(n||0===n?n:7.5625),a((r=function(t){return t<.36363636?n*t*t:t<.72727273?n*(t-=.545455)*t+.75:t<.90909091?n*(t-=.818182)*t+.9375:n*(t-=.954545)*t+.984375},function(t){return 1-r(1-t)}),t)
var r},o["cubic-bezier"]=function(o,u,s,f){return u=+u,s=+s,f=+f,(o=+o)<0||1<o||s<0||1<s?p:function(t){if(t<=0||1<=t)return t
var n,r,e=0,i=1,a=c
do{if(r=h(o,s,n=.5*(e+i)),Math.abs(t-r)<1e-4)return h(u,f,n)
r<t?e=n:i=n}while(--a)
return h(u,f,n=.5*(e+i))}},o.elastic=function(t,n,r,e){n=+(n||0===n?n:1)
var i=(r=+(r||0===r?r:.4))/(e=+(e||0===e?e:4))
return a(function(t){return 0===t||1===t?t:-n*Math.pow(2,10*(t-1))*Math.sin((t-1-i)*xt/r)},t)},o.power=function(t,n){return n=+(n||0===n?n:2),a(function(t){return Math.pow(t,n)},t)},o.repeat=function(n){return n=+(n||0===n?n:2),function(t){return(t*=n)===n?1:t-~~t}},o.sine=function(t){return a(function(t){return-Math.cos(t*Math.PI/2)+1},t)},o.steps=function(r,t){var e="end"===t?Math.floor:Math.ceil
return function(t){var n=e(t*+r)/+r
return n<0?0:1<n?1:n}},o.yoyo=function(r){return r=+(r||0===r?r:2),function(t){var n=~~(t*=r)
return n%2?1-t+n:t-n}},t.animate=function(t,n,r){return(new bt).animate(t,n,r)},t.eases=o,t.getEase=D,t.nextAnimationFrame=function(){return e||(e=new Promise(function(t){i=t})),z||(z=requestAnimationFrame(j)),e},t.Timeline=bt,t.tick=r,Object.defineProperty(t,"__esModule",{value:!0})})
