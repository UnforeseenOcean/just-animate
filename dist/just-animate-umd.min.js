!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).just={})}(this,function(t){"use strict"
function s(t,e){return t-e}function j(t,e,r){return Math.min(Math.max(t,e),r)}function y(t,e){for(var r=0;r<t.length;){if(t[r]>e){--r
break}r++}return Math.min(r,t.length-1)}function n(t){return"number"==typeof t||isFinite(+t)}function o(t){return+t}var u=0,v=1,d=2,f=3,m=4,c=5,b=1e5,h=/^\s*[\(\),\/\s]\s*/,p=/^#[a-f\d]{3,6}/i,l=/^[a-z][a-z\d\-]*/i,g=/^\-?\d*\.?\d+/,S=/^\-?\d*\.?\d+[a-z%]+/i,x=/([a-z%]+)/i,w=/^[mhvlcsqt]/i,r=/^m[\s,]*-?\d*\.?\d+/i,k=/\s+/
function M(t,e){t.isPath=r.test(e),t.current="",t.pos=0,t.last=0,t.state=v,t.subject=e}function _(t,e){var r=e.exec(t.subject.substring(t.pos))
return r&&(t.current=r[0],t.last=t.pos,t.pos+=t.current.length),null!=r}function O(t){if(_(t,h))return t.current=t.current.replace(k," "),c
if(t.isPath&&_(t,w)||_(t,l)){if(t.isPath||t.pos>=t.subject.length-1||"("!==t.subject[t.pos])return f
if("rgb"===t.current.toLowerCase()){var e=t.subject.substring(t.pos),r=e.indexOf(")"),n=e.substring(1,r)
t.subject=t.subject.substring(0,t.pos+1+n.length)+",1"+t.subject.substring(t.pos+1+n.length),t.current="rgba"}return m}if(!t.isPath&&_(t,S))return d
if(_(t,g))return v
if(_(t,p)){var i=t.subject.substring(t.last+1,t.pos)
return t.subject=t.subject.substring(0,t.last)+(a=i,"rgba("+((s=parseInt(3===a.length?a[0]+a[0]+a[1]+a[1]+a[2]+a[2]:a,16))>>16&255)+","+(s>>8&255)+","+(255&s)+",1)")+t.subject.substring(t.pos),t.pos=t.last,O(t)}var a,s
return u}var P={},T={}
var i,a=["viewBox"],A=["innerHTML","textContent"],C=/(perspective|matrix(3d)?|skew[xy]?|(translate|scale|rotate)([xyz]|3d)?)\(/i,F={read:function(t,e){return t.getAttribute(e)||""},write:function(t,e,r){t.setAttribute(e,r.toString())}},q={read:function(t,e){return t.style.getPropertyValue(e)},write:function(t,e,r){t.style.setProperty(e,r.toString())}},E={read:function(t,e){return t[e]},write:function(t,e,r){t[e]=r}},z={read:function(t,e){return getComputedStyle(t)[e]},write:function(t,e,r){t.style[e]=r}}
function R(t,e){var r=function(t,e){if(t instanceof Element)return 0===e.indexOf("--")?q:-1!==a.indexOf(e)?F:-1!==A.indexOf(e)?E:z
return E}(t,e)
return{mix:I,read:r.read,write:r.write}}function G(t){if(!i){var e=window
i=e.WebKitCSSMatrix||e.MSCSSMatrix||e.DOMMatrix}return new i(t||"").toString()}function I(t,e,r){return n(t)&&n(e)?(+t+ +e)*r:((C.test(t.toString())||C.test(e.toString()))&&(t=G(t),e=G(e)),function(t,e,r){M(P,t),M(T,e)
for(var n,i,a="",s=0;1&&(n=O(P),i=O(T),n&&i);){var o=P.current,u=T.current
if(n===v&&i===v){var f=void 0
s?(f=Math.round(Math.sqrt(Math.min(Math.max(0,(+o*+o+ +u*+u)*r),255*255))),s--):f=Math.round((+o+ +u)*r*b)/b,a+=f}else if(n===d||i===d){var c=x.exec(n===d?o:u)[1],h="px"===c?1:b,p=parseFloat(o),l=parseFloat(u)
a+=(f=Math.round((p+l)*r*h)/h)+c}else if(n===m&&i===m){var g=r<.5?o:u
"rgb"!==g&&"rgba"!==g||(s=3),a+=g}else a+=r<.5?o:u}return a}(t.toString(),e.toString(),r))}var L,B,D,H=[]
function e(t){-1===H.indexOf(t)&&H.push(t),D||(D=requestAnimationFrame(K))}function K(){for(var t=performance.now(),e=0;e<H.length;e++){H[e](t)||(H.splice(e,1),e--)}if(D=H.length?requestAnimationFrame(K):0,B){var r=B
L=B=0,r()}}var V,W=1e3/60,J=[]
function N(t){J.length||(V=performance.now(),e(Q)),-1===J.indexOf(t)&&J.push(t)}function Q(t){var e=j(t-V,0,2*W)
V=t
for(var r=J.map(function(t){return t.getConfig()}),n=0,i=r;n<i.length;n++){Z(e,d=i[n])}for(var a=0,s=r;a<s.length;a++){Y(d=s[a])}for(var o=[],u=0,f=r;u<f.length;u++){for(var c=0,h=(d=f[u]).events;c<h.length;c++){var p=h[c]
if(d.listeners){var l=d.listeners[p]
l&&l.length&&Array.prototype.push.apply(o,l)}}d.events.length=0}for(var g=[],v=0,y=r;v<y.length;v++){var d
U(d=y[v],g)}for(var m=0;m<J.length;m++)J[m].configure(r[m])
for(m=J.length-1;-1<m;m--)"running"!==r[m].playState&&J.splice(m,1)
for(var b=0,S=g;b<S.length;b++){(0,S[b])()}for(var x=0,w=o;x<w.length;x++){(0,w[x])(t)}return!!J.length}function U(t,g){var v=t.currentTime
for(var e in t.keyframes){var i=t.keyframes[e],a=X(t,e),r=function(h){for(var t,p=i[h],l=(t=p,Object.keys(t).map(o).sort(s)),e=function(t){var e=R(t,h),r=y(l,v),n=-1===r?0:l[r],i=p[l[r]],a=Math.min(r+1,l.length-1),s=l[a],o=p[s],u=(s-v)/(s-n),f=e.read(t,h),c=e.mix(i.value,o.value,u)
f!==c&&g.push(function(){return e.write(t,h,c)})},r=0,n=a;r<n.length;r++){e(n[r])}}
for(var n in i)r(n)}}function X(t,e){if(!e)return[]
if(0!==e.indexOf("@"))return Array.prototype.slice.call(document.querySelectorAll(e))
var r=t.targets[e]
if(!r)throw Error("Target "+e+" not configured.")
return"number"==typeof r.length?r:[r]}function Y(t){if("cancel"===t.playState)t.playState="idle"
else if("finish"===t.playState)t.playState="idle"
else{var e=t.duration*t.iterations
t.playbackRate<0?0===t.currentTime&&(t.playState="idle",t.events.push("finish")):t.currentTime===e&&(t.playState="idle",t.events.push("finish"))}}function Z(t,e){e.iterations=j(e.iterations,1,86400*7)
var r=e.duration*e.iterations
"cancel"===e.playState?(e.currentTime=0,e.playbackRate=1):"finish"===e.playState?e.currentTime=e.playbackRate<0?0:r:"running"===e.playState&&(e.currentTime+=t*e.playbackRate),e.currentTime=j(e.currentTime,0,r)}var $=function(){function t(t){this.alternate=!1,this.currentTime=0,this.events=[],this.iterations=1,this.keyframes={},this.labels={},this.listeners={},this.playState="idle",this.playbackRate=1,this.targetIds_=0,this.targets={},this.timelines_=[],t&&this.configure(t)}return Object.defineProperty(t.prototype,"duration",{get:function(){var r=0
for(var t in this.timelines_.forEach(function(t){var e=t.animation.duration+t.pos
r<e&&(r=e)}),this.keyframes){var e=this.keyframes[t]
for(var n in e)for(var i in e[n])r<+i&&(r=+i)}return r},enumerable:!0,configurable:!0}),t.prototype.add=function(t,e){return void 0===(e=this.getPosition_(e))&&(e=this.duration),this.timelines_.push({animation:t,pos:e}),this},t.prototype.cancel=function(){return this.playState="cancel",this.events.push("cancel"),N(this),this},t.prototype.configure=function(t){this.currentTime,this.duration
for(var e in t)"function"!=typeof this[e]&&"duration"!==e&&(this[e]=t[e])
return this},t.prototype.delay=function(t,e){return this.animate("",t,{"":0},e)},t.prototype.finish=function(){return this.playState="finish",this.events.push("finish"),N(this),this},t.prototype.getConfig=function(){var t={}
for(var e in this)if("_"!==e[e.length-1]){var r=this[e]
"function"!=typeof r&&(t[e]=r)}return t},t.prototype.getEventGroup_=function(t){var e=this.listeners[t]
return e||(e=this.listeners[t]=[]),e},t.prototype.getPosition_=function(t){return t&&"number"!=typeof t&&(t=this.labels[t]),t},t.prototype.label=function(t,e){return this.labels[t]=void 0===e?this.duration:e,this},t.prototype.off=function(t,e){var r=this.getEventGroup_(t),n=r.indexOf(e)
return-1!==n&&r.splice(n,1),this},t.prototype.on=function(t,e){var r=this.getEventGroup_(t)
return-1===r.indexOf(e)&&r.push(e),this},t.prototype.pause=function(){return this.playState="paused",this.events.push("pause"),N(this),this},t.prototype.play=function(){return this.playState="running",this.events.push("play"),N(this),this},t.prototype.seek=function(t){return((t=this.getPosition_(t))||0===t)&&(this.currentTime=t),"running"!==this.playState&&this.pause(),this},t.prototype.set=function(t,e,r){return e["ease"]="steps(1,end)",this.animate(t,0,e,r)},t.prototype.target=function(t,e){return this.targets[t]=e,this},t.prototype.animate=function(t,e,r,n){if(void 0===(n=this.getPosition_(n))&&(n=this.duration),"string"!=typeof t){var i=function(t,e){for(var r in t)if(e===t[r])return r}(this.targets,t)
i||(i="@auto_"+ ++this.targetIds_,this.target(i,t)),t=i}var a=this.keyframes[t]
a||(a=this.keyframes[t]={})
var s=r.ease||"linear",o=r.stagger||0
for(var u in r){var f=r[u]
if("ease"!==u&&(f||0===f)){var c=a[u]
c||(c=a[u]={}),c[n+e]={ease:s,stagger:o,value:f}}}return this},t.prototype.update=function(){return N(this),this},t}()
t.timeline=function(t){return new $(t)},t.nextAnimationFrame=function(){return L||(L=new Promise(function(t){B=t})),D||(D=requestAnimationFrame(K)),L},t.tick=e,Object.defineProperty(t,"__esModule",{value:!0})})
