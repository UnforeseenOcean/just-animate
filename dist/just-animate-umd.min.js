!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).just={})}(this,function(t){"use strict"
function a(e,t){return"out"===t?function(t){return 1-e(1-t)}:"in-out"===t?function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2}:e}var e=1.70158
function c(t){return t}var p=19,l=function(t,e,r){var n=1-r
return(3*(n*t+r*e)*n+r*r)*r}
var o=/^\s*[\(\),\/\s]\s*/,u=/^\(/,s=/^\)/,f=/^#[a-f\d]{3,6}/i,h=/^[a-z][a-z\d\-]*/i,v=/^\-?\d*\.?\d+/,y=/^\-?\d*\.?\d+[a-z%]+/i,g=/^[mhvlcsqt]/i,x=1,d=2,m=4,S=x|m,b=8|d,M=16|d,k=32
function _(t,e){t.match="",t.pos=t.last=t.state=0,t.pattern=e}function P(t,e){var r=e.exec(t.pattern.substring(t.pos))
return r&&(t.match=r[0],t.last=t.pos,t.pos+=t.match.length),null!=r}function r(n){var i={},a=[],o=1e3
return function(t){var e=i[t]
if(null==e)e=n(t),a.length<o||(delete i[a[0]],a.unshift()),i[t]=e,a.push(t)
else{var r=a.indexOf(t)
0===r&&(a.splice(r,1),a.push(t))}return e}}var w=r(function(t){var e=parseInt(3===t.length?t[0]+t[0]+t[1]+t[1]+t[2]+t[2]:t,16)
return"rgba("+(e>>16&255)+","+(e>>8&255)+","+(255&e)+",1)"})
function O(t){if(P(t,s))return M
if(P(t,u))return b
if(P(t,o))return d
if(t.isPath&&P(t,g)||P(t,h)){if(!(!t.isPath&&t.pos<t.pattern.length-1&&"("===t.pattern[t.pos]))return m
if("rgb"===t.match.toLowerCase()){var e=t.pattern.substring(t.pos),r=e.indexOf(")"),n=e.substring(1,r)
t.pattern=t.pattern.substring(0,t.pos+1+n.length)+",1"+t.pattern.substring(t.pos+1+n.length),t.match="rgba"}return k}if(!t.isPath&&P(t,y))return S
if(P(t,v))return x
if(P(t,f)){var i=t.pattern.substring(t.last+1,t.pos)
return t.pattern=t.pattern.substring(0,t.last)+w(i)+t.pattern.substring(t.pos),t.pos=t.last,O(t)}}var $={},T={}
function A(e,t,r){if(!t)return e
var n=$[t]
if(!n)return e
var i=n.apply(0,r)
return function(t){return i(e(t))}}var n,i,j,I=r(function(t){var e
_(T,t)
for(var r,n=c,i=!1,a=[];1;){if(!(e=O(T))){n=A(n,r,a)
break}e===M?(n=A(n,r,a),i=!(r=void 0),a.length=0):!i||0==(e&x)&&0==(e&m)?e===m?n=A(n,T.match):e===k&&(r=T.match,i=!0):a.push(T.match)}return n}),z=[]
function F(t){-1===z.indexOf(t)&&z.push(t),j||(j=requestAnimationFrame(q))}function q(){for(var t=performance.now(),e=0;e<z.length;e++){z[e](t)||(z.splice(e,1),e--)}if(j=z.length?requestAnimationFrame(q):0,i){var r=i
n=i=0,r()}}function C(t,e){return t-e}function E(t,e,r){return Math.min(Math.max(t,e),r)}function R(t,e){for(var r=0;r<t.length&&t[r]<e;)r++
return r}function D(t){return"number"==typeof t||isFinite(+t)}function G(t){return+t}var L,B="idle",H="paused",N="running",V="finish",J="cancel",K=1e3/60,Q=[],U=[]
function W(t){return Q.length||(L=performance.now(),F(X)),-1===Q.indexOf(t)&&Q.push(t),t}function X(t){var e=E(t-L,0,2*K)
L=t
for(var r=Q.slice(),n=0,i=r;n<i.length;n++){Y(b=i[n])}for(var a=0,o=r;a<o.length;a++){Z(e,b=o[a])}for(var u=0,s=r;u<s.length;u++){(b=s[u]).playState===J?b.playState=B:b.playState===V&&(b.playState=H)}for(var f=[],c=0,p=r;c<p.length;c++){for(var l=0,h=(b=p[c]).events;l<h.length;l++){var v=h[l]
if(b.listeners){var y=b.listeners[v]
y&&y.length&&Array.prototype.push.apply(f,y)}}b.events.length=0}for(var g=[],d=0,m=r;d<m.length;d++)for(var b=m[d],x=0,S=U;x<S.length;x++){(0,S[x])(b,g)}for(var M=Q.length-1;-1<M;M--)r[M].playState!==N&&Q.splice(M,1)
for(var k=0,_=g;k<_.length;k++){(0,_[k])()}for(var P=0,w=f;P<w.length;P++){(0,w[P])(t)}return!!Q.length}function Y(t){if(t.playState===N){var e=t.playbackRate<0,r=t.duration*t.iterations;(e&&t.currentTime<=1||!e&&t.currentTime>=r-1)&&(t.playState=V,t.events.push(V))}}function Z(t,e){e.iterations=E(e.iterations,1,86400*7)
var r=e.duration*e.iterations
e.playState===J?(e.currentTime=0,e.playbackRate=1):e.playState===V?e.currentTime=e.playbackRate<0?0:r:e.playState===N&&(e.currentTime+=t*e.playbackRate),e.currentTime=E(e.currentTime,0,r)}var tt=0,et=function(){function r(t){var e=this
if(!(e instanceof r))return new r(t)
e.id="_"+ ++tt,e.alternate=!1,e.currentTime=0,e.events=[],e.iterations=1,e.keyframes={},e.labels={},e.listeners={},e.playState=N,e.playbackRate=1,t&&e.configure(t),e.id.indexOf("_")}return Object.defineProperty(r.prototype,"duration",{get:function(){var t=0
for(var e in this.keyframes){var r=this.keyframes[e]
for(var n in r)for(var i in r[n])t<+i&&(t=+i)}return t},enumerable:!0,configurable:!0}),r.prototype.cancel=function(){return this.playState=J,this.events.push(J),W(this)},r.prototype.configure=function(t){for(var e in t)"function"!=typeof this[e]&&"duration"!==e&&(this[e]=t[e])
return W(this)},r.prototype.finish=function(){return this.playState=V,this.events.push(V),W(this)},r.prototype.getConfig=function(){var t={}
for(var e in this)if("_"!==e[e.length-1]){var r=this[e]
"function"!=typeof r&&(t[e]=r)}return t},r.prototype.getEventGroup_=function(t){var e=this.listeners[t]
return e||(e=this.listeners[t]=[]),e},r.prototype.getPosition_=function(t){return t&&"number"!=typeof t&&(t=this.labels[t]),t},r.prototype.label=function(t,e){return this.labels[t]=void 0===e?this.duration:e,this},r.prototype.off=function(t,e){var r=this.getEventGroup_(t),n=r.indexOf(e)
return-1!==n&&r.splice(n,1),this},r.prototype.on=function(t,e){var r=this.getEventGroup_(t)
return-1===r.indexOf(e)&&r.push(e),this},r.prototype.pause=function(){return this.playState=H,this.events.push("pause"),W(this)},r.prototype.play=function(){return this.playState=N,this.events.push("play"),W(this)},r.prototype.seek=function(t){return((t=this.getPosition_(t))||0===t)&&(this.currentTime=t),this.playState!==N?this.pause():W(this)},r.prototype.update=function(){return W(this)},r}(),rt=2*Math.PI
function nt(t,e){return t.getAttribute(e)||""}function it(t,e,r){t.setAttribute(e,r.toString())}function at(t,e){return t.style.getPropertyValue(e)}function ot(t,e,r){t.style.setProperty(e,r.toString())}function ut(t,e){return t.style[e]||getComputedStyle(t)[e]}function st(t,e,r){t.style[e]=r}function ft(t,e){return t[e]}function ct(t,e,r){t[e]=r}var pt={}
var lt=r(function(t){var e,r
_(pt,t)
for(var n,i=0,a="";1&&(e=P(n=pt,o)?d:P(n,v)?x:P(n,y)?S:P(n,h)?k:void 0);)e===k&&(r=pt.match.toLowerCase(),i=0),e===S||e===x?("matrix"===r?a+=i%3?"0":"1":"matrix3d"===r?a+=i%5?"0":"1":/scale([xyz]|3d)?/i.test(r)?a+="1":a+="0",i++):a+=pt.match
return a}),ht=/([a-z%]+)/i,vt=/^m[\s,]*-?\d*\.?\d+/i,yt=/(perspective|matrix(3d)?|skew[xy]?|(translate|scale|rotate)([xyz]|3d)?)\(/i
function gt(t,e,r){return D(t)&&D(e)?bt(+t,+e,r):(yt.test(e.toString())&&!yt.test(t.toString())&&(t=lt(e.toString())),null==t&&(t=""),null==e&&(e=""),function(t,e,r){_(dt,t),_(mt,e),dt.isPath=vt.test(t),mt.isPath=vt.test(e)
var n,i,a="",o=0
for(;1&&(n=O(dt),i=O(mt),n&&i);){var u=dt.match,s=mt.match
if(n===x&&i===x){var f=void 0
o?(d=+u,m=+s,b=r,f=Math.round(Math.sqrt(Math.min(Math.max(0,(d*d+m*m)*b),255*255))),o--):f=bt(+u,+s,r),a+=f}else if(n===S||i===S){var c=ht.exec(n===S?u:s),p=c[1],l="px"===p,h=parseFloat(u),v=parseFloat(s),f=bt(h,v,r,l)
a+=f+p}else{var y=r<.5?u:s,g=n===k&&i===k&&("rgb"===y||"rgba"===y)
g&&(o=3),a+=y}}var d,m,b
return a}(t.toString(),e.toString(),r))}var dt={},mt={}
function bt(t,e,r,n){var i=t+(e-t)*r
return n?Math.round(i):i}var xt=0,St=1,Mt=2,kt=3,_t=["viewBox"],Pt=["innerHTML","textContent"]
var wt="__just_cache"
function Ot(t,e,r){if(e[wt]&&e[wt][t])return e[wt][t][r]}function $t(t,e){if(!e)return[]
if(0!==e.indexOf("@"))return Array.prototype.slice.call(document.querySelectorAll(e))
var r=t.targets[e]
if(!r)throw Error("Target "+e+" not configured.")
return"number"==typeof r.length?r:[r]}function Tt(t,e,r,n,i,a,o,u){var s=t,f=e
if(o&&(s+=o),u&&(f-=u),a){var c=Math.abs((n+1)*a)
s+=c,f-=Math.abs(i*a)-c}return s<r?r<f?(r-s)/(f-s):1:0}et.prototype.animate=function(t,e,r){var n=this.getPosition_(r.$from)
if(null==n&&(n=this.duration),"string"!=typeof t){var i=function(t,e){if(t)for(var r in t)if(e===t[r])return r}(this.targets,t)
i||(this.targetIds||(this.targetIds=0),i="@_object_"+ ++this.targetIds,this.target(i,t)),t=i}r.$delay&&(e+=r.$delay),r.$endDelay&&(e+=r.$endDelay),r.$stagger&&(e+=$t(this,t).length*r.$stagger)
var a=this.keyframes[t]
for(var o in a||(a=this.keyframes[t]={}),r){var u=r[o]
if("$"!==o[0]&&(u||0===u)){var s=a[o]
s||(s=a[o]={})
var f={value:u}
for(var c in r)"$"===c[0]&&r[c]&&(f[c]=r[c])
s[n+e]=f}}return this.update()},et.prototype.delay=function(t){return this.animate("",t,{"":0})},et.prototype.set=function(t,e){return e.$ease="steps(1,end)",this.animate(t,0,e)},et.prototype.target=function(t,e){return this.targets||(this.targets={}),this.targets[t]=e,this.update()},$.back=function(t){return a(function(t){return t*t*((e+1)*t-e)},t)},$.bounce=function(t,e){return e=+(e||0===e?e:7.5625),a((r=function(t){return t<.36363636?e*t*t:t<.72727273?e*(t-=.545455)*t+.75:t<.90909091?e*(t-=.818182)*t+.9375:e*(t-=.954545)*t+.984375},function(t){return 1-r(1-t)}),t)
var r},$["cubic-bezier"]=function(o,u,s,f){return u=+u,s=+s,f=+f,(o=+o)<0||1<o||s<0||1<s?c:function(t){if(t<=0||1<=t)return t
var e,r,n=0,i=1,a=p
do{if(r=l(o,s,e=.5*(n+i)),Math.abs(t-r)<1e-4)return l(u,f,e)
r<t?n=e:i=e}while(--a)
return l(u,f,e=.5*(n+i))}},$.elastic=function(t,e,r,n){e=+(e||0===e?e:1)
var i=(r=+(r||0===r?r:.4))/(n=+(n||0===n?n:4))
return a(function(t){return 0===t||1===t?t:-e*Math.pow(2,10*(t-1))*Math.sin((t-1-i)*rt/r)},t)},$.power=function(t,e){return e=+(e||0===e?e:2),a(function(t){return Math.pow(t,e)},t)},$.repeat=function(e){return e=+(e||0===e?e:2),function(t){return(t*=e)===e?1:t-~~t}},$.sine=function(t){return a(function(t){return-Math.cos(t*Math.PI/2)+1},t)},$.steps=function(r,t){var n="end"===t?Math.floor:Math.ceil
return function(t){var e=n(t*+r)/+r
return e<0?0:1<e?1:e}},$.yoyo=function(r){return r=+(r||0===r?r:2),function(t){var e=~~(t*=r)
return e%2?1-t+e:t-e}},U.push(function(t,e){}),U.push(function(t,A){var e,r,n=t.currentTime,j=t.playState,z=t.id,F=n%t.duration
for(var i in t.keyframes){var a=t.keyframes[i],q=$t(t,i),o=function(w){for(var t,O=a[w],$=(t=O,Object.keys(t).map(G).sort(C)),T=q.length,e=function(t){var e,r,n,i,a,o,u,s,f=q[t],c=(r=w,"string"==typeof(e=f).tagName&&e.style?0===r.indexOf("--")?St:-1!==_t.indexOf(r)?Mt:-1!==Pt.indexOf(r)?xt:kt:xt),p=(n=c)===Mt?it:n===St?ot:n===kt?st:ct
if(j!==B){var l=gt,h=((s=c)===Mt?nt:s===St?at:s===kt?ut:ft)(f,w),v=R($,F),y=E(v,0,$.length-1),g=y!==v?y:y-1,d=g<0?0:$[g],m=$[y],b=O[m],x=b.value,S=I(b.$ease||""),M=O[$[g]],k=void 0
k=g<0||!M?(null==(P=Ot(z,f,w))&&(i=z,o=w,u=P=h,(a=f)[wt]||(a[wt]={}),a[wt][i]||(a[wt][i]={}),a[wt][i][o]=u),P):M.value
var _=l(k,x,S(Tt(d,m,F,t,T,b.$stagger||0,b.$delay||0,b.$endDelay||0)))
h!==_&&A.push(function(){return p(f,w,_)})}else{var P
null!=(P=Ot(z,f,w))&&p(f,w,P)}},r=0;r<T;r++)e(r)}
for(var u in a)o(u)
for(var s=0,f=q;s<f.length;s++){var c=f[s]
j===B&&(e=z,(r=c)[wt]&&r[wt][e]&&delete r[wt][e])}}}),t.animate=function(t,e,r){return(new et).animate(t,e,r)},t.eases=$,t.getEase=I,t.nextAnimationFrame=function(){return n||(n=new Promise(function(t){i=t})),j||(j=requestAnimationFrame(q)),n},t.Timeline=et,t.tick=F,Object.defineProperty(t,"__esModule",{value:!0})})
