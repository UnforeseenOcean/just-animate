!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t=t||self).just={})}(this,function(t){"use strict"
function a(n,t){return"out"===t?function(t){return 1-n(1-t)}:"in-out"===t?function(t){return t<.5?n(2*t)/2:1-n(2*(1-t))/2}:n}var n=1.70158
function e(t){return a(function(t){return t*t*((n+1)*t-n)},t)}function c(t){return t}var p=19,h=function(t,n,e){var r=1-e
return(3*(r*t+e*n)*r+e*e)*e}
var o=/^\s*[\(\),\/\s]\s*/,s=/^\(/,f=/^\)/,l=/^#[a-f\d]{3,6}/i,v=/^[a-z][a-z\d\-]*/i,y=/^\-?\d*\.?\d+/,g=/^\-?\d*\.?\d+[a-z%]+/i,d=/^[mhvlcsqt]/i,x=1,m=2,b=4,S=x|b,_=8|m,M=16|m,k=32
function P(t,n){t.match="",t.pos=t.last=t.state=0,t.pattern=n}function w(t,n){var e=n.exec(t.pattern.substring(t.pos))
return e&&(t.match=e[0],t.last=t.pos,t.pos+=t.match.length),null!=e}function O(t){if(w(t,f))return M
if(w(t,s))return _
if(w(t,o))return m
if(t.isPath&&w(t,d)||w(t,v)){if(!(!t.isPath&&t.pos<t.pattern.length-1&&"("===t.pattern[t.pos]))return b
if("rgb"===t.match.toLowerCase()){var n=t.pattern.substring(t.pos),e=n.indexOf(")"),r=n.substring(1,e)
t.pattern=t.pattern.substring(0,t.pos+1+r.length)+",1"+t.pattern.substring(t.pos+1+r.length),t.match="rgba"}return k}if(!t.isPath&&w(t,g))return S
if(w(t,y))return x
if(w(t,l)){var i=t.pattern.substring(t.last+1,t.pos)
return t.pattern=t.pattern.substring(0,t.last)+(a=i,"rgba("+((u=parseInt(3===a.length?a[0]+a[0]+a[1]+a[1]+a[2]+a[2]:a,16))>>16&255)+","+(u>>8&255)+","+(255&u)+",1)")+t.pattern.substring(t.pos),t.pos=t.last,O(t)}var a,u}var u={},T={}
function A(n,t,e){if(!t)return n
var r=u[t]
if(!r)return n
var i=r.apply(0,e)
return function(t){return i(n(t))}}var r,i,z,F=[]
function j(t){-1===F.indexOf(t)&&F.push(t),z||(z=requestAnimationFrame(q))}function q(){for(var t=performance.now(),n=0;n<F.length;n++){F[n](t)||(F.splice(n,1),n--)}if(z=F.length?requestAnimationFrame(q):0,i){var e=i
r=i=0,e()}}function C(e,t){var r="end"===t?Math.floor:Math.ceil
return function(t){var n=r(t*+e)/+e
return n<0?0:1<n?1:n}}function E(t,n){return t-n}function I(t,n,e){return Math.min(Math.max(t,n),e)}function R(t,n){for(var e=0;e<t.length;){if(t[e]>n){--e
break}e++}return Math.min(e,t.length-1)}function G(t){return"number"==typeof t||isFinite(+t)}function L(t){return+t}function B(t,n){return t.getAttribute(n)||""}function H(t,n,e){t.setAttribute(n,e.toString())}function N(t,n){return t.style.getPropertyValue(n)}function V(t,n,e){t.style.setProperty(n,e.toString())}function D(t,n){return t.style[n]||getComputedStyle(t)[n]}function J(t,n,e){t.style[n]=e}function K(t,n){return t[n]}function Q(t,n,e){t[n]=e}var U=/([a-z%]+)/i,W=/^m[\s,]*-?\d*\.?\d+/i,X=/(perspective|matrix(3d)?|skew[xy]?|(translate|scale|rotate)([xyz]|3d)?)\(/i
function Y(t,n,e){return G(t)&&G(n)?nt(+t,+n,e):(X.test(n.toString())&&!X.test(t.toString())&&(t=function(t){var n,e
P(Z,t)
var r=0,i=""
for(;1&&(n=w(a=Z,o)?m:w(a,y)?x:w(a,g)?S:w(a,v)?k:void 0);)n===k&&(e=Z.match.toLowerCase(),r=0),n===S||n===x?("matrix"===e?i+=r%3?"0":"1":"matrix3d"===e?i+=r%5?"0":"1":/scale([xyz]|3d)?/i.test(e)?i+="1":i+="0",r++):i+=Z.match
var a
return i}(n.toString())),null==t&&(t=""),null==n&&(n=""),function(t,n,e){P($,t),P(tt,n),$.isPath=W.test(t),tt.isPath=W.test(n)
var r,i,a="",u=0
for(;1&&(r=O($),i=O(tt),r&&i);){var o=$.match,s=tt.match
if(r===x&&i===x){var f=void 0
u?(d=+o,m=+s,b=e,f=Math.round(Math.sqrt(Math.min(Math.max(0,(d*d+m*m)*b),255*255))),u--):f=nt(+o,+s,e),a+=f}else if(r===S||i===S){var c=U.exec(r===S?o:s),p=c[1],h="px"===p,l=parseFloat(o),v=parseFloat(s),f=nt(l,v,e,h)
a+=f+p}else{var y=e<.5?o:s,g=r===k&&i===k&&("rgb"===y||"rgba"===y)
g&&(u=3),a+=y}}var d,m,b
return a}(t.toString(),n.toString(),e))}var Z={}
var $={},tt={}
function nt(t,n,e,r){var i=t+(n-t)*e
return r?Math.round(i):i}var et=0,rt=1,it=2,at=3,ut=["viewBox"],ot=["innerHTML","textContent"]
var st="__just_cache"
function ft(t,n,e){if(n[st]&&n[st][t])return n[st][t][e]}var ct,pt=1e3/60,ht=[]
function lt(t){var n=I(t-ct,0,2*pt)
ct=t
for(var e=ht.slice(),r=0,i=e;r<i.length;r++){dt(n,d=i[r])}for(var a=0,u=e;a<u.length;a++){gt(d=u[a])}for(var o=[],s=0,f=e;s<f.length;s++){for(var c=0,p=(d=f[s]).events;c<p.length;c++){var h=p[c]
if(d.listeners){var l=d.listeners[h]
l&&l.length&&Array.prototype.push.apply(o,l)}}d.events.length=0}for(var v=[],y=0,g=e;y<g.length;y++){var d
vt(d=g[y],v)}for(var m=ht.length-1;-1<m;m--)"running"!==e[m].playState&&ht.splice(m,1)
for(var b=0,x=v;b<x.length;b++){(0,x[b])()}for(var S=0,_=o;S<_.length;S++){(0,_[S])(t)}return!!ht.length}function vt(t,P){var n,e,w=t.currentTime,O=t.playState,T=t.id
for(var r in t.keyframes){var i=t.keyframes[r],a=yt(t,r),u=function(_){for(var t,M=i[_],k=(t=M,Object.keys(t).map(L).sort(E)),n=function(t){var n,e,r,i,a,u,o,s,f=(e=_,"string"==typeof(n=t).tagName&&n.style?0===e.indexOf("--")?rt:-1!==ut.indexOf(e)?it:-1!==ot.indexOf(e)?et:at:et),c=(r=f)===it?H:r===rt?V:r===at?J:Q
if("idle"!==O){var p=Y,h=((s=f)===it?B:s===rt?N:s===at?D:K)(t,_),l=R(k,w),v=-1===l?0:k[l],y=M[k[l]],g=Math.min(l+1,k.length-1),d=k[g],m=M[d].value,b=void 0
if(y)b=y.value
else null==(S=ft(T,t,_))&&(i=T,u=_,o=S=h,(a=t)[st]||(a[st]={}),a[st][i]||(a[st][i]={}),a[st][i][u]=o),b=S
var x=p(b,m,(v-w)/(v-d))
h!==x&&P.push(function(){return c(t,_,x)})}else{var S
null!=(S=ft(T,t,_))&&c(t,_,S)}},e=0,r=a;e<r.length;e++){n(r[e])}}
for(var o in i)u(o)
for(var s=0,f=a;s<f.length;s++){var c=f[s]
"idle"===O&&(n=T,(e=c)[st]&&e[st][n]&&delete e[st][n])}}}function yt(t,n){if(!n)return[]
if(0!==n.indexOf("@"))return Array.prototype.slice.call(document.querySelectorAll(n))
var e=t.targets[n]
if(!e)throw Error("Target "+n+" not configured.")
return"number"==typeof e.length?e:[e]}function gt(t){if("cancel"===t.playState)t.playState="idle"
else if("finish"===t.playState)t.playState="paused"
else{var n=t.duration*t.iterations
t.playbackRate<0?0===t.currentTime&&(t.playState="paused",t.events.push("finish")):t.currentTime===n&&(t.playState="paused",t.events.push("finish"))}}function dt(t,n){n.iterations=I(n.iterations,1,86400*7)
var e=n.duration*n.iterations
"cancel"===n.playState?(n.currentTime=0,n.playbackRate=1):"finish"===n.playState?n.currentTime=n.playbackRate<0?0:e:"running"===n.playState&&(n.currentTime+=t*n.playbackRate),n.currentTime=I(n.currentTime,0,e)}var mt=0,bt=function(){function n(t){if(!(this instanceof n))return new n(t)
this.id="_"+ ++mt,this.alternate=!1,this.currentTime=0,this.events=[],this.iterations=1,this.keyframes={},this.labels={},this.listeners={},this.playState="running",this.playbackRate=1,this.targetIds_=0,this.targets={},this.timelines_=[],t&&this.configure(t),this.id.indexOf("_")}return Object.defineProperty(n.prototype,"duration",{get:function(){for(var t=0,n=0,e=this.timelines_;n<e.length;n++){var r=e[n],i=r.animation.duration+r.pos
t<i&&(t=i)}for(var a in this.keyframes){var u=this.keyframes[a]
for(var o in u)for(var s in u[o])t<+s&&(t=+s)}return t},enumerable:!0,configurable:!0}),n.prototype.add=function(t,n){return void 0===(n=this.getPosition_(n))&&(n=this.duration),this.timelines_.push({animation:t,pos:n}),this.update()},n.prototype.cancel=function(){return this.playState="cancel",this.events.push("cancel"),this.update()},n.prototype.configure=function(t){for(var n in t)"function"!=typeof this[n]&&"duration"!==n&&(this[n]=t[n])
return this},n.prototype.delay=function(t,n){return this.animate("",t,{"":0},n)},n.prototype.finish=function(){return this.playState="finish",this.events.push("finish"),this.update()},n.prototype.getConfig=function(){var t={}
for(var n in this)if("_"!==n[n.length-1]){var e=this[n]
"function"!=typeof e&&(t[n]=e)}return t},n.prototype.getEventGroup_=function(t){var n=this.listeners[t]
return n||(n=this.listeners[t]=[]),n},n.prototype.getPosition_=function(t){return t&&"number"!=typeof t&&(t=this.labels[t]),t},n.prototype.label=function(t,n){return this.labels[t]=void 0===n?this.duration:n,this},n.prototype.off=function(t,n){var e=this.getEventGroup_(t),r=e.indexOf(n)
return-1!==r&&e.splice(r,1),this},n.prototype.on=function(t,n){var e=this.getEventGroup_(t)
return-1===e.indexOf(n)&&e.push(n),this},n.prototype.pause=function(){return this.playState="paused",this.events.push("pause"),this.update()},n.prototype.play=function(){return this.playState="running",this.events.push("play"),this.update()},n.prototype.seek=function(t){return((t=this.getPosition_(t))||0===t)&&(this.currentTime=t),"running"!==this.playState?this.pause():this.update()},n.prototype.set=function(t,n,e){return n["ease"]="steps(1,end)",this.animate(t,0,n,e)},n.prototype.target=function(t,n){return this.targets[t]=n,this.update()},n.prototype.animate=function(t,n,e,r){if(void 0===(r=this.getPosition_(r))&&(r=this.duration),"string"!=typeof t){var i=function(t,n){for(var e in t)if(n===t[e])return e}(this.targets,t)
i||(i="@_"+ ++this.targetIds_,this.target(i,t)),t=i}var a=this.keyframes[t]
a||(a=this.keyframes[t]={})
var u=e.ease||"linear"
for(var o in e){var s=e[o]
if("ease"!==o&&(s||0===s)){var f=a[o]
f||(f=a[o]={}),f[r+n]={ease:u,value:s}}}return this.update()},n.prototype.update=function(){var t
return t=this,ht.length||(ct=performance.now(),j(lt)),-1===ht.indexOf(t)&&ht.push(t),this},n}()
var xt=2*Math.PI
u.back=e,u.bounce=function(t,n){return n=+(n||0===n?n:7.5625),a((e=function(t){return t<.36363636?n*t*t:t<.72727273?n*(t-=.545455)*t+.75:t<.90909091?n*(t-=.818182)*t+.9375:n*(t-=.954545)*t+.984375},function(t){return 1-e(1-t)}),t)
var e},u["cubic-bezier"]=function(u,o,s,f){return o=+o,s=+s,f=+f,(u=+u)<0||1<u||s<0||1<s?c:function(t){if(t<=0||1<=t)return t
var n,e,r=0,i=1,a=p
do{if(e=h(u,s,n=.5*(r+i)),Math.abs(t-e)<1e-4)return h(o,f,n)
e<t?r=n:i=n}while(--a)
return h(o,f,n=.5*(r+i))}},u["ease-in"]=function(){return e("in")},u["ease-in-out"]=function(){return e("in-out")},u["ease-out"]=function(){return e("out")},u.elastic=function(t,n,e,r){n=+(n||0===n?n:1)
var i=(e=+(e||0===e?e:.4))/(r=+(r||0===r?r:4))
return a(function(t){return 0===t||1===t?t:-n*Math.pow(2,10*(t-1))*Math.sin((t-1-i)*xt/e)},t)},u.power=function(t,n){return n=+(n||0===n?n:2),a(function(t){return Math.pow(t,n)},t)},u.repeat=function(n){return n=+(n||0===n?n:2),function(t){return(t*=n)-~~t}},u.sine=function(t){return a(function(t){return-Math.cos(t*Math.PI/2)+1},t)},u.steps=C,u["step-end"]=function(){return C(1,"end")},u["step-start"]=function(){return C(1)},u.yoyo=function(e){return e=+(e||0===e?e:2),function(t){var n=~~(t*=e)
return n%2?1-t+n:t-n}},t.animate=function(t,n,e){return(new bt).animate(t,n,e)},t.eases=u,t.getEase=function(t){var n
P(T,t)
for(var e,r=c,i=!1,a=[];1;){if(!(n=O(T))){r=A(r,e,a)
break}n===M?(r=A(r,e,a),i=!(e=void 0),a.length=0):!i||0==(n&x)&&0==(n&b)?n===b?r=A(r,T.match):n===k&&(e=T.match,i=!0):a.push(T.match)}return r},t.nextAnimationFrame=function(){return r||(r=new Promise(function(t){i=t})),z||(z=requestAnimationFrame(q)),r},t.Timeline=bt,t.tick=j,Object.defineProperty(t,"__esModule",{value:!0})})
