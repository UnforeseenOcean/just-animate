!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).just={})}(this,function(t){"use strict"
function a(t,e){return t-e}function k(t,e,n){return Math.min(Math.max(t,e),n)}function j(t,e){for(var n=0;n<t.length;){if(t[n]>e){--n
break}n++}return Math.min(n,t.length-1)}function r(t){return"number"==typeof t||isFinite(+t)}function o(t){return+t}var i,s,u,f=[]
function e(t){-1===f.indexOf(t)&&f.push(t),u||(u=requestAnimationFrame(c))}function c(){for(var t=performance.now(),e=0;e<f.length;e++){f[e](t)||(f.splice(e,1),e--)}if(u=f.length?requestAnimationFrame(c):0,s){var n=s
i=s=0,n()}}function _(t,e){return t.getAttribute(e)||""}function P(t,e,n){t.setAttribute(e,n.toString())}function T(t,e){return t.style.getPropertyValue(e)}function M(t,e,n){t.style.setProperty(e,n.toString())}function O(t,e){return getComputedStyle(t)[e]}function A(t,e,n){t.style[e]=n}function w(t,e){return t[e]}function F(t,e,n){t[e]=n}var h=/(perspective|matrix(3d)?|skew[xy]?|(translate|scale|rotate)([xyz]|3d)?)\(/i
function q(t,e,n){return r(t)&&r(e)?(+t+ +e)*n:(h.test(e.toString())&&h.test(t.toString()),function(t,e,n){I(H,t),I(V,e)
var r,i,s="",a=0
for(;1&&(r=B(H),i=B(V),r&&i);){var o=H.current,u=V.current
if(r===y&&i===y){var f=void 0
a?(f=Math.round(Math.sqrt(Math.min(Math.max(0,(+o*+o+ +u*+u)*n),255*255))),a--):f=Math.round((+o+ +u)*n*b)/b,s+=f}else if(r===d||i===d){var c=C.exec(r===d?o:u),h=c[1],p="px"===h?1:b,l=parseFloat(o),v=parseFloat(u),f=Math.round((l+v)*n*p)/p
s+=f+h}else if(r===m&&i===m){var g=n<.5?o:u
"rgb"!==g&&"rgba"!==g||(a=3),s+=g}else s+=n<.5?o:u}return s}(t.toString(),e.toString(),n))}var p=0,y=1,d=2,l=3,m=4,v=5,b=1e5,g=/^\s*[\(\),\/\s]\s*/,S=/^#[a-f\d]{3,6}/i,x=/^[a-z][a-z\d\-]*/i,E=/^\-?\d*\.?\d+/,z=/^\-?\d*\.?\d+[a-z%]+/i,C=/([a-z%]+)/i,R=/^[mhvlcsqt]/i,n=/^m[\s,]*-?\d*\.?\d+/i,G=/\s+/
function I(t,e){t.isPath=n.test(e),t.current="",t.pos=0,t.last=0,t.state=y,t.subject=e}function L(t,e){var n=e.exec(t.subject.substring(t.pos))
return n&&(t.current=n[0],t.last=t.pos,t.pos+=t.current.length),null!=n}function B(t){if(L(t,g))return t.current=t.current.replace(G," "),v
if(t.isPath&&L(t,R)||L(t,x)){if(t.isPath||t.pos>=t.subject.length-1||"("!==t.subject[t.pos])return l
if("rgb"===t.current.toLowerCase()){var e=t.subject.substring(t.pos),n=e.indexOf(")"),r=e.substring(1,n)
t.subject=t.subject.substring(0,t.pos+1+r.length)+",1"+t.subject.substring(t.pos+1+r.length),t.current="rgba"}return m}if(!t.isPath&&L(t,z))return d
if(L(t,E))return y
if(L(t,S)){var i=t.subject.substring(t.last+1,t.pos)
return t.subject=t.subject.substring(0,t.last)+(s=i,"rgba("+((a=parseInt(3===s.length?s[0]+s[0]+s[1]+s[1]+s[2]+s[2]:s,16))>>16&255)+","+(a>>8&255)+","+(255&a)+",1)")+t.subject.substring(t.pos),t.pos=t.last,B(t)}var s,a
return p}var H={},V={}
var D=0,J=1,K=2,N=3,Q=["viewBox"],U=["innerHTML","textContent"]
var W,X=1e3/60,Y=[]
function Z(t){Y.length||(W=performance.now(),e($)),-1===Y.indexOf(t)&&Y.push(t)}function $(t){var e=k(t-W,0,2*X)
W=t
for(var n=Y.map(function(t){return t.getConfig()}),r=0,i=n;r<i.length;r++){rt(e,d=i[r])}for(var s=0,a=n;s<a.length;s++){nt(d=a[s])}for(var o=[],u=0,f=n;u<f.length;u++){for(var c=0,h=(d=f[u]).events;c<h.length;c++){var p=h[c]
if(d.listeners){var l=d.listeners[p]
l&&l.length&&Array.prototype.push.apply(o,l)}}d.events.length=0}for(var v=[],g=0,y=n;g<y.length;g++){var d
tt(d=y[g],v)}for(var m=0;m<Y.length;m++)Y[m].configure(n[m])
for(m=Y.length-1;-1<m;m--)"running"!==n[m].playState&&Y.splice(m,1)
for(var b=0,S=v;b<S.length;b++){(0,S[b])()}for(var x=0,j=o;x<j.length;x++){(0,j[x])(t)}return!!Y.length}function tt(t,S){var x=t.currentTime
for(var e in t.keyframes){var i=t.keyframes[e],s=et(t,e),n=function(d){for(var t,m=i[d],b=(t=m,Object.keys(t).map(o).sort(a)),e=function(t){var e,n,r,i=(e=d,t instanceof Element?0===e.indexOf("--")?J:-1!==Q.indexOf(e)?K:-1!==U.indexOf(e)?D:N:D),s=(n=i)===K?_:n===J?T:n===N?O:w,a=(r=i)===K?P:r===J?M:r===N?A:F,o=q,u=j(b,x),f=-1===u?0:b[u],c=m[b[u]],h=Math.min(u+1,b.length-1),p=b[h],l=m[p],v=(p-x)/(p-f),g=s(t,d),y=o(c.value,l.value,v)
g!==y&&S.push(function(){return a(t,d,y)})},n=0,r=s;n<r.length;n++){e(r[n])}}
for(var r in i)n(r)}}function et(t,e){if(!e)return[]
if(0!==e.indexOf("@"))return Array.prototype.slice.call(document.querySelectorAll(e))
var n=t.targets[e]
if(!n)throw Error("Target "+e+" not configured.")
return"number"==typeof n.length?n:[n]}function nt(t){if("cancel"===t.playState)t.playState="idle"
else if("finish"===t.playState)t.playState="idle"
else{var e=t.duration*t.iterations
t.playbackRate<0?0===t.currentTime&&(t.playState="idle",t.events.push("finish")):t.currentTime===e&&(t.playState="idle",t.events.push("finish"))}}function rt(t,e){e.iterations=k(e.iterations,1,86400*7)
var n=e.duration*e.iterations
"cancel"===e.playState?(e.currentTime=0,e.playbackRate=1):"finish"===e.playState?e.currentTime=e.playbackRate<0?0:n:"running"===e.playState&&(e.currentTime+=t*e.playbackRate),e.currentTime=k(e.currentTime,0,n)}var it=function(){function t(t){this.alternate=!1,this.currentTime=0,this.events=[],this.iterations=1,this.keyframes={},this.labels={},this.listeners={},this.playState="idle",this.playbackRate=1,this.targetIds_=0,this.targets={},this.timelines_=[],t&&this.configure(t)}return Object.defineProperty(t.prototype,"duration",{get:function(){var n=0
for(var t in this.timelines_.forEach(function(t){var e=t.animation.duration+t.pos
n<e&&(n=e)}),this.keyframes){var e=this.keyframes[t]
for(var r in e)for(var i in e[r])n<+i&&(n=+i)}return n},enumerable:!0,configurable:!0}),t.prototype.add=function(t,e){return void 0===(e=this.getPosition_(e))&&(e=this.duration),this.timelines_.push({animation:t,pos:e}),this},t.prototype.cancel=function(){return this.playState="cancel",this.events.push("cancel"),Z(this),this},t.prototype.configure=function(t){this.currentTime,this.duration
for(var e in t)"function"!=typeof this[e]&&"duration"!==e&&(this[e]=t[e])
return this},t.prototype.delay=function(t,e){return this.animate("",t,{"":0},e)},t.prototype.finish=function(){return this.playState="finish",this.events.push("finish"),Z(this),this},t.prototype.getConfig=function(){var t={}
for(var e in this)if("_"!==e[e.length-1]){var n=this[e]
"function"!=typeof n&&(t[e]=n)}return t},t.prototype.getEventGroup_=function(t){var e=this.listeners[t]
return e||(e=this.listeners[t]=[]),e},t.prototype.getPosition_=function(t){return t&&"number"!=typeof t&&(t=this.labels[t]),t},t.prototype.label=function(t,e){return this.labels[t]=void 0===e?this.duration:e,this},t.prototype.off=function(t,e){var n=this.getEventGroup_(t),r=n.indexOf(e)
return-1!==r&&n.splice(r,1),this},t.prototype.on=function(t,e){var n=this.getEventGroup_(t)
return-1===n.indexOf(e)&&n.push(e),this},t.prototype.pause=function(){return this.playState="paused",this.events.push("pause"),Z(this),this},t.prototype.play=function(){return this.playState="running",this.events.push("play"),Z(this),this},t.prototype.seek=function(t){return((t=this.getPosition_(t))||0===t)&&(this.currentTime=t),"running"!==this.playState&&this.pause(),this},t.prototype.set=function(t,e,n){return e["ease"]="steps(1,end)",this.animate(t,0,e,n)},t.prototype.target=function(t,e){return this.targets[t]=e,this},t.prototype.animate=function(t,e,n,r){if(void 0===(r=this.getPosition_(r))&&(r=this.duration),"string"!=typeof t){var i=function(t,e){for(var n in t)if(e===t[n])return n}(this.targets,t)
i||(i="@auto_"+ ++this.targetIds_,this.target(i,t)),t=i}var s=this.keyframes[t]
s||(s=this.keyframes[t]={})
var a=n.ease||"linear"
for(var o in n){var u=n[o]
if("ease"!==o&&(u||0===u)){var f=s[o]
f||(f=s[o]={}),f[r+e]={ease:a,value:u}}}return this},t.prototype.update=function(){return Z(this),this},t}()
t.timeline=function(t){return new it(t)},t.nextAnimationFrame=function(){return i||(i=new Promise(function(t){s=t})),u||(u=requestAnimationFrame(c)),i},t.tick=e,Object.defineProperty(t,"__esModule",{value:!0})})
