var JA=function(t){"use strict"
var e,n=function(){function t(){this.subs=[],this.buffer=[]}return t.prototype.next=function(t){var e=this.buffer
if(e.push(t),1>=e.length){for(var n=0;n<e.length;n++){var r=this.subs.slice()
t=e[n]
for(var i=0;i<r.length;i++)r[i](t)}e.length=0}},t.prototype.subscribe=function(t){var e=this.subs
return e.push(t),{unsubscribe:function(){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}},t}(),r=[]
function i(t){return function(){r.push(t),e=e||setTimeout(s)||1}}function s(){for(var t=0;t<r.length;t++)r[t]()
e=r.length=0}var u=new(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this
return e.tick=function(t){var n=e,r=-(n.time||t)+(n.time=t)
n.next(r)},e}return function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])
function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.next=function(e){t.prototype.next.call(this,e),this.subs.length&&requestAnimationFrame(this.tick)},e.prototype.subscribe=function(e){return this.subs.length||requestAnimationFrame(this.tick),t.prototype.subscribe.call(this,e)},e}(n))
function a(t){t=t||{}
var e=new n,r=[],s=i(function(){var t=r
r.length&&(r=[],e.next(t))}),u=new("undefined"!=typeof Proxy?Proxy:function(t,e){var n={},r=function(r){n[r]={enumerable:!0,get:function(){return e.get?e.get(t,r):t[r]},set:function(n){e.set?e.set(t,r,n,void 0):t[r]=n}}}
for(var i in t)r(i)
var s={}
if(Object.defineProperties(s,n),e.deleteProperty||e.set){var u=Object.keys(s),a=u+""
!function n(){setTimeout(n,1e3/60)
var r=Object.keys(s),i=r+""
i!==a&&(u=r,a=i,e.deleteProperty&&u.filter(function(t){return-1!==r.indexOf(t)}).forEach(function(n){e.deleteProperty(t,n)}),e.set&&r.filter(function(t){return-1!==u.indexOf(t)}).forEach(function(n){e.set(t,n,t[n],void 0)}))}()}return s})(t,{set:function(t,e,n,i){return t[e]=n,-1===r.indexOf(e)&&r.push(e),s(),!0},deleteProperty:function(t,e){return delete t[e],-1===r.indexOf(e)&&r.push(e),s(),!0}})
return Object.defineProperty(u,"subscribe",{enumerable:!1,configurable:!1,value:e.subscribe.bind(e)}),u}var o=a(),f=[],c=function(t){-1===f.indexOf(t)&&f.push(t)},l=a(),p=3,h=1,v=2,d="idle",b=Array.prototype.push,g=2
function y(t){return null!=t}function m(t){return"string"==typeof t}function x(t,e){var n
return(n=e)&&"string"!=typeof n&&"number"==typeof n.length?b.apply(t,e):b.call(t,e),t}function O(t,e,n){for(var r in n=n||{},t)e&&-1!==e.indexOf(r)||(n[r]=t[r])
return n}var k=Object.keys,P=function(){function t(t){var e=this
this.tick=function(t){var n=e.player
e.seek(n.time+n.rate*t)},this.player={time:0,rate:1,state:d,alternate:!1,repeat:1},this.timing={duration:0},this.animations=[],this.events={},this.targets={},t=t||{},this.labels=a(t.labels),this.refs=a(t.refs),l[t.name]=this}return t.prototype.import=function(t){var e,n=0
if(t.timing&&(n+=(this,y((e=t.timing).duration)?(this.timing.duration=e.duration,1):0)),t.labels){for(var r in this.labels)y(t.labels[r])||delete this.labels[r]
for(var r in t.labels)this.labels[r]=t.labels[r]
n++}return t.targets&&(n+=function(t,e){var n=function t(e,n,r,i){var s={}
for(var u in e){var a=e[u],o=n[u],f=typeof a,c=typeof o
if(y(a)&&"object"===f){if(-1!==r.indexOf(a))continue
r.push(a)}if(y(o))if(f!==c)s[u]=v
else if("object"===c){var l=t(a,o,r,i+1)
l&&(s[u]=l)}else a!==o&&(s[u]=v)
else s[u]=p}for(var u in n)y(e[u])||(s[u]=h)
return k(s).length?i>g?v:s:void 0}(t.targets,e,[],1)
return n?(t.targets=e,function(t,e){for(var n=t.animations,r=n.length-1;r>-1;r--){var i=n[r],s=e[i.target]
s!==p&&s!==v||(n.splice(r,1),i.destroyed())}var u=function(r){var i=e[r]
if(i===p)return"continue"
var s,u=t.targets[r]
s=i===h||i===v?u:function(t,e){for(var n={},r=0,i=e.length;i>r;r++)n[e[r]]=t[e[r]]
return n}(u,k(i).filter(function(t){return i[t]===h||i[t]===v}))
var a=function(t,e,n){for(var r=t.timing.duration,i=function(t,n){return e.split(",").map(function(e){return m(e)&&"@"===e[0]?function(t,n){var r=e.substring(1)
return t.refs[r]||o[r]}(t):(n=t.el,(r=e)&&0!==r.length?r.nodeName?[r]:[].slice.call(r[0].nodeName?r:(n||document).querySelectorAll(r)):[])
var n,r}).reduce(x,[])}(t),s=[],u=0,a=i.length;a>u;u++)for(var c=i[u],l=[],p=n,h=0,v=f.length;v>h&&k(p).length;h++){var d=f[h]({target:c,duration:r,props:p})
d&&d.length&&(x(s,d),p=O(p,l=d.map(T).reduce(x,l)))}return s}(t,r,s)
a.length&&(a.forEach(function(t){t.created()}),x(n,a))}
for(var a in e)u(a)}(t,n),1):0}(this,t.targets)),n&&this.emit("config"),this},t.prototype.export=function(){return{timing:this.timing,labels:this.labels,targets:this.targets}},t.prototype.getState=function(){return this.player},t.prototype.setState=function(t){var e,n=O(t,void 0,this.player)
if("running"===n.state){var r=n.rate>=0,i=this.timing.duration
r&&n.time>=i?(n.time=i,n.state="paused",e=!0):r||n.time>0||(n.time=0,n.state="paused",e=!0)}return this._sub||"running"!==n.state||(this._sub=u.subscribe(this.tick)),this._sub&&"running"!==n.state&&(this._sub.unsubscribe(),this._sub=void 0),this.player=n,this.animations.forEach(function(t){t.updated(n)}),this.emit("update"),e&&this.emit("finish"),this},t.prototype.seek=function(t){return this.setState({time:m(t)?this.labels[t]:t}),this},t.prototype.emit=function(t){var e=this.events[t]
if(e)for(var n=e.slice(),r=0,i=n.length;i>r;r++)n[r]()
return this},t.prototype.on=function(t,e){if("function"==typeof e){var n=this.events[t]||(this.events[t]=[]);-1===n.indexOf(e)&&n.push(e)}return this},t.prototype.off=function(t,e){var n=this.events[t]
if(n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}return this},t}()
function T(t){return t.props}var j="running",S=17
return c(function(t){var e=t.target
if(e instanceof Element){var n=t.duration||1
return k(t.props).map(function(r){for(var i,s,u,a,o,f,c=t.props[r],l=k(c).map(function(t){return+t}).filter(function(t){return isFinite(t)&&t>=0&&n>=t}).sort(),p=[],h=0,v=l.length;v>h;h++){var d=l[h],b=c[d],g=d/n
if(0===g&&(i=!0),1===g&&(s=!0),"set"===b.type){var y=h-1,m=y>-1&&c[l[y]]
m&&p.push(((o={offset:g-1e-7,easing:"step-start"})[r]=m.value,o))}var x=h+1,P=v>x&&c[l[x]],T=P&&P.easing||"linear"
p.push(((f={offset:g,easing:T})[r]=b.value,f))}return i||((u=O(p[0])).offset=0,p.push(u)),s||((u=O(p[p.length-1])).offset=1,p.push(u)),{props:[r],created:function(){(a=e.animate(p,{duration:t.duration,fill:"both"})).pause()},updated:function(e){var n=e.time,r=e.rate,i=e.state===j
if(Math.abs(a.currentTime-n)>1&&(a.currentTime=n),i&&a.playbackRate!==r){var s=a.currentTime
1>s?a.currentTime=1:s<t.duration-1||(a.currentTime=t.duration-1),a.playbackRate=r}i&&!(a.playState===j||"finished"===a.playState)&&!(0>r&&S>n)&&!(r>=0&&n>t.duration-S)&&a.play(),!i&&(a.playState===j||"pending"===a.playState)&&a.pause()},destroyed:function(){a.cancel()}}})}}),t.Observable=n,t.nextTick=s,t.scheduler=i,t.timer=u,t.refs=o,t.use=c,t.timelines=l,t.Timeline=P,t}({})
