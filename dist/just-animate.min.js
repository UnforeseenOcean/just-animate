var JA=function(t){"use strict"
var n=3,e=1,r=2,i="idle",o=2
function a(t){return null!=t}function s(t,n){return Array.prototype.push.apply(t,n),t}function u(t,n){for(var e={},r=0,i=n.length;i>r;r++)e[n[r]]=t[n[r]]
return e}function f(t,n){var e={}
for(var r in t)n&&-1===n.indexOf(r)&&(e[r]=t[r])
return e}var c,h=Object.keys,v=[]
function l(t){return function(){v.push(t),c=c||setTimeout(p)||1}}function p(){for(var t=0;t<v.length;t++)v[t]()
c=v.length=0}function g(t){var n={},e={},r=function(t,n){e[t]=n},i=l(function(){var e=n
n={},t(e,r)})
return{keys:function(){return h(e)},set:function(t,e){a(t)&&(n[t]=e,i())},get:function(t){return e[t]}}}var d=g(function(t,n){for(var e in t)n(e,t[e])}),m=g(function(t,n){for(var e in t)n(e,t[e])}),y=[],b=g(function(t,n){for(var e in t){var r=b.get(e)
r&&r.setState({state:i}),n(e,t[e])}}),x=["duration","targets","labels"]
function O(t){if(!(this instanceof O))return new O(t)
this.state={time:0,rate:1,state:i,alternate:!1,repeat:1},this.duration=0,this.animations=[],this.events={},this.targets={},this.refs=g(function(t,n){for(var e in t)n(e,t[e])}),b.set(t.name,this)}function S(t,n,e){for(var r=t.duration,i=function(t,e){return n.split(",").map(function(n){return"string"==typeof n&&"@"===n[0]?function(t,e){var r=n.substring(1)
return t.refs.get(r)||m.get(r)}(t):(e=t.el,(r=n)&&0!==r.length?r.nodeName?[r]:[].slice.call(r[0].nodeName?r:(e||document).querySelectorAll(r)):[])
var e,r})}(t),o=[],a=0,u=i.length;u>a;a++)for(var c=i[a],v=[],l=e,p=0,g=y.length;g>p&&h(l).length;p++){var d=y[p]({target:c,duration:r,props:l})
d&&d.length&&(s(o,d),l=f(l,v=d.map(_).reduce(s,v)))}return o}function _(t){return t.props}return O.prototype.imports=function(t){var i,f
return t.labels&&(this.labels=t.labels),t.targets&&(i=t.targets,(f=function t(i,s,u,f){var c={}
for(var v in i){var l=i[v],p=s[v],g=typeof l,d=typeof p
if(a(l)&&"object"===g){if(-1!==u.indexOf(l))continue
u.push(l)}if(a(p))if(g!==d)c[v]=r
else if("object"===d){var m=t(l,p,u,f+1)
m&&(c[v]=m)}else l!==p&&(c[v]=r)
else c[v]=n}for(var v in s)a(i[v])||(c[v]=e)
return h(c).length?f>o?r:c:void 0}(this.targets,i,[],1))&&(this.targets=i,this.emit("config"),function(t,i){for(var o=t.animations,a=o.length-1;a>-1;a--){var f=o[a];(v=i[f.target])!==n&&v!==r||(o.splice(a,1),f.destroyed())}for(var c in i){var v
if((v=i[c])!==n){var l=t.targets[c],p=S(t,c,v===e||v===r?l:u(l,h(i).filter(function(t){return i[t]===e||i[t]===r})))
p.length&&(p.forEach(function(t){t.created()}),s(o,p))}}}(this,f))),this},O.prototype.exports=function(){return u(this,x)},O.prototype.getState=function(){return this.state},O.prototype.setState=function(t){return function(t,n){var e,r=t.state
for(var i in r)a(n[i])&&r[i]!==n[i]&&(e=1,r[i]=n[i])
e&&(t.emit("update"),t.animations.forEach(function(t){t.updated(r)}))}(this,t),this},O.prototype.emit=function(t){var n=this._events[t]
if(n)for(var e=n.slice(),r=0,i=e.length;i>r;r++)e[r]()
return this},O.prototype.on=function(t,n){var e=this._events[t]||(this._events[t]=[])
return-1===e.indexOf(n)&&e.push(n),this},O.prototype.off=function(t,n){var e=this._events[t]
if(e){var r=e.indexOf(n);-1!==r&&e.splice(r,1)}return this},t.easings=d,t.refs=m,t.use=function(t){-1===y.indexOf(t)&&y.push(t)},t.nextTick=p,t.scheduler=l,t.timelines=b,t.Timeline=O,t}({})
