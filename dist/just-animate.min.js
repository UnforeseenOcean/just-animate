var JA=function(t){"use strict"
var e=3,n=1,r=2,i="idle",s=Array.prototype.push,a=2
function o(t){return null!=t}function u(t){return"string"==typeof t}function f(t,e){var n
return(n=e)&&"string"!=typeof n&&"number"==typeof n.length?s.apply(t,e):s.call(t,e),t}function p(t,e){for(var n={},r=0,i=e.length;i>r;r++)n[e[r]]=t[e[r]]
return n}function c(t,e,n){for(var r in n=n||{},t)e&&-1!==e.indexOf(r)||(n[r]=t[r])
return n}var h,l=Object.keys,v=[]
function d(t){return function(){v.push(t),h=h||setTimeout(g)||1}}function g(){for(var t=0;t<v.length;t++)v[t]()
h=v.length=0}var y=function(){function t(t,e){var n=this
this._setter=function(t,e){n.values[t]=e}
var r=this
r.values=t||{},r.updateHandler=e||m,r.onPropertyUpdated=d(function(){var t=n.nextValues
n.nextValues={},e(t,r._setter)})}return t.prototype.keys=function(){return l(this.values)},t.prototype.set=function(t,e){o(t)&&(this.nextValues[t]=e,this.onPropertyUpdated())},t.prototype.get=function(t){return this.values[t]},t.prototype.export=function(){return JSON.parse(JSON.stringify(this.values))},t.prototype.import=function(t){this.updateHandler(t,this._setter)},t}()
function m(t,e){for(var n in t)e(n,t[n])}var b=new y({}),x=new y({}),k=[],O=function(t){-1===k.indexOf(t)&&k.push(t)},S=new y({},function(t,e){for(var n in t){var r=S.get(n)
r&&r.setState({state:i}),e(n,t[n])}}),T=function(){function t(){this.subs=[],this.buffer=[]}return t.prototype.next=function(t){var e=this.buffer
if(e.push(t),1>=e.length){for(var n=0;n<e.length;n++){var r=this.subs.slice()
t=e[n]
for(var i=0;i<r.length;i++)r[i](t)}e.length=0}},t.prototype.subscribe=function(t){var e=this.subs
return e.push(t),{unsubscribe:function(){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}},t}(),w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this
return e.tick=function(t){var n=e,r=-(n.time||t)+(n.time=t)
n.next(r)},e}return function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])
function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.next=function(e){t.prototype.next.call(this,e),this.subs.length&&requestAnimationFrame(this.tick)},e.prototype.subscribe=function(e){return this.subs.length||requestAnimationFrame(this.tick),t.prototype.subscribe.call(this,e)},e}(T),_=new w,A=function(){function t(t){var e=this
this.tick=function(t){var n=e.state
e.seek(n.time+n.rate*t)},this.state={time:0,rate:1,state:i,alternate:!1,repeat:1},this.duration=0,this.animations=[],this.events={},this.targets={},t=t||{},this.labels=new y(t.labels),this.refs=new y(t.refs),S.set(t.name,this)}return t.prototype.import=function(t){var i,s
return t.duration&&(this.duration=t.duration),t.labels&&this.labels.import(t.labels),t.targets&&(i=t.targets,(s=function t(i,s,u,f){var p={}
for(var c in i){var h=i[c],v=s[c],d=typeof h,g=typeof v
if(o(h)&&"object"===d){if(-1!==u.indexOf(h))continue
u.push(h)}if(o(v))if(d!==g)p[c]=r
else if("object"===g){var y=t(h,v,u,f+1)
y&&(p[c]=y)}else h!==v&&(p[c]=r)
else p[c]=e}for(var c in s)o(i[c])||(p[c]=n)
return l(p).length?f>a?r:p:void 0}(this.targets,i,[],1))&&(this.targets=i,this.emit("config"),function(t,i){for(var s=t.animations,a=s.length-1;a>-1;a--){var o=s[a];(c=i[o.target])!==e&&c!==r||(s.splice(a,1),o.destroyed())}for(var u in i){var c
if((c=i[u])!==e){var h=t.targets[u],v=j(t,u,c===n||c===r?h:p(h,l(i).filter(function(t){return i[t]===n||i[t]===r})))
v.length&&(v.forEach(function(t){t.created()}),f(s,v))}}}(this,s))),this},t.prototype.export=function(){return{duration:this.duration,labels:this.labels.export(),targets:this.targets}},t.prototype.getState=function(){return this.state},t.prototype.setState=function(t){var e,n=c(t,void 0,this.state)
if("running"===n.state){var r=n.rate>=0,i=this.duration
r&&n.time>=i?(n.time=i,n.state="paused",e=!0):r||n.time>0||(n.time=0,n.state="paused",e=!0)}return this._sub||"running"!==n.state||(this._sub=_.subscribe(this.tick)),this._sub&&"running"!==n.state&&(this._sub.unsubscribe(),this._sub=void 0),this.animations.forEach(function(t){t.updated(n)}),this.emit("update"),e&&this.emit("finish"),this},t.prototype.seek=function(t){return this.setState({time:u(t)?this.labels.get(t):t}),this},t.prototype.emit=function(t){var e=this.events[t]
if(e)for(var n=e.slice(),r=0,i=n.length;i>r;r++)n[r]()
return this},t.prototype.on=function(t,e){var n=this.events[t]||(this.events[t]=[])
return-1===n.indexOf(e)&&n.push(e),this},t.prototype.off=function(t,e){var n=this.events[t]
if(n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}return this},t}()
function j(t,e,n){for(var r=t.duration,i=function(t,n){return e.split(",").map(function(e){return u(e)&&"@"===e[0]?function(t,n){var r=e.substring(1)
return t.refs.get(r)||x.get(r)}(t):(n=t.el,(r=e)&&0!==r.length?r.nodeName?[r]:[].slice.call(r[0].nodeName?r:(n||document).querySelectorAll(r)):[])
var n,r}).reduce(f,[])}(t),s=[],a=0,o=i.length;o>a;a++)for(var p=i[a],h=[],v=n,d=0,g=k.length;g>d&&l(v).length;d++){var y=k[d]({target:p,duration:r,props:v})
y&&y.length&&(f(s,y),v=c(v,h=y.map(N).reduce(f,h)))}return s}function N(t){return t.props}var q="running",E=17
return O(function(t){var e=t.target
if(e instanceof Element){var n=t.duration||1
return l(t.props).map(function(r){for(var i,s,a,o,u,f,p=t.props[r],h=l(p).map(function(t){return+t}).filter(function(t){return isFinite(t)&&t>=0&&n>=t}).sort(),v=[],d=0,g=h.length;g>d;d++){var y=h[d],m=p[y],b=y/n
if(0===b&&(i=!0),1===b&&(s=!0),"set"===m.type){var x=d-1,k=x>-1&&p[h[x]]
k&&v.push(((u={offset:b-1e-7,easing:"step-start"})[r]=k.value,u))}var O=d+1,S=g>O&&p[h[O]],T=S&&S.easing||"linear"
v.push(((f={offset:b,easing:T})[r]=m.value,f))}return i||((a=c(v[0])).offset=0,v.push(a)),s||((a=c(v[v.length-1])).offset=1,v.push(a)),{props:[r],created:function(){(o=e.animate(v,{duration:t.duration,fill:"both"})).pause()},updated:function(e){var n=e.time,r=e.rate,i=e.state===q
if(Math.abs(o.currentTime-n)>1&&(o.currentTime=n),i&&o.playbackRate!==r){var s=o.currentTime
1>s?o.currentTime=1:s<t.duration-1||(o.currentTime=t.duration-1),o.playbackRate=r}i&&!(o.playState===q||"finished"===o.playState)&&!(0>r&&E>n)&&!(r>=0&&n>t.duration-E)&&o.play(),!i&&(o.playState===q||"pending"===o.playState)&&o.pause()},destroyed:function(){o.cancel()}}})}}),t.easings=b,t.refs=x,t.use=O,t.nextTick=g,t.scheduler=d,t.timelines=S,t.Timeline=A,t.Observable=T,t.timer=_,t.Timer=w,t}({})
